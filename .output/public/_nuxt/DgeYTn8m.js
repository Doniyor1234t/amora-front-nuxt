import{_ as J}from"./t3fWIcyc.js";import{_ as Le}from"./0OlUe86j.js";import Ne from"./BwTZA46_.js";import ze from"./CCAMvSO-.js";import{r as S,e as ue,c3 as Ae,c4 as Ee,n as Oe,y as c,g as q,p as Re,aN as Me,by as je,Y as me,o as p,a8 as L,H as t,c as g,aa as z,ab as A,_ as Ve,k as pe,Z as fe,a7 as y,af as F,ae as ie,d as Te,a6 as R,a9 as ne,ad as qe,ac as oe}from"./x2P8Usk7.js";/* empty css        */import{S as Fe}from"./pssOQNbT.js";import{o as He}from"./CzNfMZt7.js";import{Y as De}from"./Cobd3QiX.js";import{u as We,a as re}from"./Bd0D-cE5.js";import{m as Ue,d as ce}from"./BnPaBQyU.js";import{u as Ye}from"./q97UC36x.js";import"./DfXbyq-Q.js";import"./De4-1eCa.js";import"./DdGyWAsx.js";import"./Ce5Pjrcn.js";import"./ZhWAdK_X.js";import"./zaRTPjii.js";import"./D82-IN9e.js";import"./jc0MLXVe.js";const Ge={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(n,b){let{slots:s}=b,f=!1;const{swiperRef:a}=n,_=S(null),o=S("swiper-slide"),d=S(!1);function h(k,B,N){B===_.value&&(o.value=N)}ue(()=>{!a||!a.value||(a.value.on("_slideClass",h),f=!0)}),Ae(()=>{f||!a||!a.value||(a.value.on("_slideClass",h),f=!0)}),Ee(()=>{!_.value||!a||!a.value||(typeof n.swiperSlideIndex<"u"&&(_.value.swiperSlideIndex=n.swiperSlideIndex),a.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),Oe(()=>{!a||!a.value||a.value.off("_slideClass",h)});const i=c(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));Re("swiperSlide",i);const C=()=>{d.value=!0};return()=>q(n.tag,{class:He(`${o.value}`),ref:_,"data-swiper-slide-index":typeof n.virtualIndex>"u"&&a&&a.value&&a.value.params.loop?n.swiperSlideIndex:n.virtualIndex,onLoadCapture:C},n.zoom?q("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof n.zoom=="number"?n.zoom:void 0},[s.default&&s.default(i.value),n.lazy&&!d.value&&q("div",{class:"swiper-lazy-preloader"})]):[s.default&&s.default(i.value),n.lazy&&!d.value&&q("div",{class:"swiper-lazy-preloader"})])}};function ve(n,b){const s=S(),f=c(()=>s.value?.isBeginning??!0),a=c(()=>s.value?.isEnd??!1),_=c(()=>s.value?.activeIndex??0),o=c(()=>s.value?.realIndex??0),d=c(()=>s.value?.slides??[]),h=c(()=>s.value?.slidesPerViewDynamic()??0),i=c(()=>s.value?.progress??0),C=c(()=>s.value?.slides.length??0),k=(...v)=>{s.value&&(v.length===0?s.value.slideNext():s.value.slideNext(...v))},B=(...v)=>{s.value&&s.value.slideTo(...v)},N=(...v)=>{s.value&&(v.length===0?s.value.slideReset():s.value.slideReset(...v))},H=(...v)=>{s.value&&(v.length===0?s.value.slidePrev():s.value.slidePrev(...v))},M=()=>{!(n.value?.nodeName==="SWIPER-CONTAINER")&&s.value!==null&&!b&&console.warn('"useSwiper()" requires a ref and is tied to the %c`<swiper-container ref="swiperContainerRef"></swiper-container>` element.',"font-weight: bold;")},D=()=>{n.value&&b!==void 0&&(Object.assign(n.value,b),n.value?.initialize()),s.value=n?.value?.swiper};return Me(s,()=>M()),ue(()=>je(()=>D())),{instance:s,isBeginning:f,isEnd:a,activeIndex:_,realIndex:o,slides:d,slidesPerView:h,progress:i,getNumberOfSlides:C,next:k,prev:H,to:B,reset:N}}const Qe={class:"relative w-full h-full"},Ze={class:"block w-full h-full"},Je=["srcset"],Ke=["src"],Xe={__name:"SharedBanner",props:{items:{type:Array,required:!0}},setup(n){const b=n,s=[Fe],f=S(null);return ve(f),(a,_)=>{const o=J;return p(),me(o,null,{default:L(()=>[t("swiper-container",{scrollbar:{hide:!1},autoplay:{delay:8e3,disableOnInteraction:!1},modules:s,class:"banner h-full max-sm:max-h-[100vh]",ref_key:"containerRef",ref:f},[(p(!0),g(z,null,A(b.items,(d,h)=>(p(),g("swiper-slide",{key:h},[t("div",Qe,[t("picture",Ze,[t("source",{media:"(max-width: 767px)",srcset:d.mobileImg??d.img},null,8,Je),t("img",{src:d.img,alt:"",class:"object-cover object-top w-full h-full max-sm:object-cover"},null,8,Ke)])])]))),128))],512)]),_:1})}}},et={class:"products-slider px-4 py-[72px] max-sm:py-[36px]"},tt={key:0,class:"products-slider__header container mb-[38px] max-sm:mb-[20px]"},st={class:"products-slider__controls"},lt=["slides-per-view","breakpoints"],at=["onClick"],it={class:"¢"},nt=["src","alt"],ot={__name:"SharedProductsSlider",props:{items:{type:Array,required:!0},hideHeader:{type:Boolean,default:!1},slidesPerView:{type:Number,default:5},mobileSlidesPerView:{type:Number,default:2}},setup(n,{expose:b}){const s=n,f=c(()=>({0:{slidesPerView:s.mobileSlidesPerView,spaceBetween:16},768:{slidesPerView:s.slidesPerView,spaceBetween:16}})),a=S(null),_=ve(a),o=pe(),d=h=>{const i=h?.slug??h?.id;i&&o.push(`/catalog/${i}`)};return b({swiper:_}),(h,i)=>{const C=J;return p(),g("div",et,[s.hideHeader?fe("",!0):(p(),g("div",tt,[i[4]||(i[4]=t("h2",{class:"products-slider__title"},"Новые поступления",-1)),t("div",st,[t("button",{type:"button",class:"products-slider__control","aria-label":"Предыдущий слайд",onClick:i[0]||(i[0]=k=>F(_).prev())},[...i[2]||(i[2]=[ie('<svg width="36" height="20" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="max-sm:hidden" data-v-59270ded><path d="M36 10L4.76837e-07 10" stroke="currentColor" data-v-59270ded></path><path d="M10 0C10 4.82759 5.59322 10 -4.76836e-07 10C5.59322 10 10 15.1724 10 20" stroke="currentColor" data-v-59270ded></path></svg><svg width="26" height="10" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="md:hidden" data-v-59270ded><path d="M36 10L4.76837e-07 10" stroke="currentColor" data-v-59270ded></path><path d="M10 0C10 4.82759 5.59322 10 -4.76836e-07 10C5.59322 10 10 15.1724 10 20" stroke="currentColor" data-v-59270ded></path></svg>',2)])]),t("button",{type:"button",class:"products-slider__control","aria-label":"Следующий слайд",onClick:i[1]||(i[1]=k=>F(_).next())},[...i[3]||(i[3]=[ie('<svg width="36" height="20" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="max-sm:hidden" data-v-59270ded><path d="M0 10L36 10" stroke="currentColor" data-v-59270ded></path><path d="M26 0C26 4.82759 30.4068 10 36 10C30.4068 10 26 15.1724 26 20" stroke="currentColor" data-v-59270ded></path></svg><svg width="26" height="10" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="md:hidden" data-v-59270ded><path d="M0 10L36 10" stroke="currentColor" data-v-59270ded></path><path d="M26 0C26 4.82759 30.4068 10 36 10C30.4068 10 26 15.1724 26 20" stroke="currentColor" data-v-59270ded></path></svg>',2)])])])])),y(C,null,{default:L(()=>[t("swiper-container",{ref_key:"containerRef",ref:a,loop:!0,"space-between":32,"slides-per-view":s.slidesPerView,class:"products-slider__swiper",breakpoints:F(f)},[(p(!0),g(z,null,A(s.items,(k,B)=>(p(),me(F(Ge),{key:B,class:"products-slider__slide"},{default:L(()=>[t("div",{class:"products-slider__item",onClick:N=>d(k)},[t("div",it,[t("img",{src:k.img,alt:k.name},null,8,nt)])],8,at)]),_:2},1024))),128))],8,lt)]),_:1})])}}},rt=Ve(ot,[["__scopeId","data-v-59270ded"]]),ct={class:"slides-scroll"},dt={class:"slide-section--banner"},ut={class:"slide-section__fill"},mt={class:"slide-section"},pt={class:"slide-section__inner"},ft={class:"hidden md:block w-full"},vt={class:"max-md:grid max-md:grid-cols-2 md:hidden"},_t=["onClick"],gt=["src","alt"],ht={key:0,class:"slide-section max-md:mb-[-120px]"},bt={class:"slide-section__inner"},xt={class:"relative w-full h-[100vh]"},wt={class:"block w-full h-full"},kt=["srcset"],yt=["src"],Ct={class:"flex-col gap-10"},It={class:"relative w-full h-[100vh] overflow-hidden"},St=["src","alt"],Bt={class:"w-full relative z-1000 bg-[#FBFAF9] px-6 py-12 text-black lg:px-12"},Pt={class:"flex items-center justify-between max-md:flex-col max-md:items-start max-md:gap-4"},$t={class:"text-3xl font-light"},Lt={class:"mt-8 grid gap-6 max-md:gap-2 max-md:grid-cols-2 xl:grid-cols-4"},Nt=["onClick"],zt={class:"collection-card__image"},At=["src","alt"],Et=["aria-pressed","onClick"],Ot={class:"collection-card__info"},Rt={class:"collection-card__title"},Mt={class:"collection-card__price"},jt={class:"slide-section"},Vt={class:"slide-section__inner"},Tt={class:"grid grid-cols-1 lg:grid-cols-2 w-full"},qt=["src","alt"],Ft={class:"relative flex flex-col justify-center z-10 w-full px-10 py-12 max-md:px-7 text-white max-md:text-center"},Ht={class:"text-[58px] max-md:text-[28px] text-center leading-tight"},Dt={class:"mt-4 text-lg max-md:text-[12px] text-center text-white/80"},Wt={class:"slide-section"},Ut={class:"slide-section__inner max-md:p-0!"},Yt={class:"contact-layout"},Gt={class:"contact-map max-md:order-1"},de="/images/products/Image.png",_s=Te({__name:"index",setup(n){const b={banners:[],featureBannerImage:null,featureBannerMobileImage:null,products:[],collectionSections:[]},s=e=>typeof e=="object"&&e!==null&&"data"in e,f=e=>{if(!e)return[];if(Array.isArray(e))return e;if(s(e)){const l=e.data;return l?Array.isArray(l)?l:[l]:[]}return[e]},a=e=>typeof e=="object"&&e!==null&&"attributes"in e,_=e=>a(e)?e:{id:e.id??0,attributes:e},o=[{img:"/images/Slider-bg-1.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-2.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-3.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-4.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"}],d=o[0]?.img??"/images/Slider-bg-1.png",h=Array.from({length:10},(e,l)=>({id:`fallback-${l}`,img:"/images/products/Image.png",name:"НАЗВАНИЕ ПЛАТЬЯ",price:"200$"})),{normalizeMediaCollection:i}=We(),C=e=>a(e)?e.attributes??e:e,k=e=>C(e).isActive??!0,B=e=>a(e)?e.attributes??e:e,N=e=>a(e)?e.attributes??e:e,H=e=>B(e).isActive??!0,M=e=>{if(!e)return null;const l=C(e),[x]=i(l.image),[w]=i(l.mobile_image);return{id:(a(e),e.id),img:x?.url??x?.path??d,mobileImg:w?.url??w?.path??x?.url??x?.path??d,title:l.title??null,subtitle:l.subtitle??null,description:l.description??null}},D=(e,l)=>{const x=e.data,w=x?a(x)?x.attributes:x:null;if(!w)return{...b};const E=f(w.hero_banners??null).filter(u=>!!u).filter(k).map(u=>M(u)).filter(u=>!!u),j=M(w.single_banner??null),r=[w.featured_products,w.products];let m=[];for(const u of r){const $=f(u??null).filter(O=>!!O);if($.length){m=$;break}}const V=m.filter(H).map(u=>ce(_(u),l)),Be=f(w.collections??null).filter(u=>!!u).map(u=>{const $=N(u),[O]=l($.cover??$.images)??[],T=f($.products??null).filter(Z=>!!Z).map(Z=>ce(_(Z),l));if(!T.length&&!O)return null;const $e=O?.url??O?.path??T[0]?.images?.[0]?.url??T[0]?.images?.[0]?.path??d;return{id:(a(u),u.id),title:$.name,banner:$e,products:T}}).filter(u=>!!u),le=E.at(-1)??null,ae=j?.img??le?.img??null,Pe=j?.mobileImg??le?.mobileImg??ae??null;return{banners:E,featureBannerImage:ae,featureBannerMobileImage:Pe,products:V,collectionSections:Be}},{data:v,isLoading:_e,isError:ge}=re(["homepage"],{path:"/homepage",query:{populate:{hero_banners:{populate:["image","mobile_image"]},single_banner:{populate:["image","mobile_image"]},featured_products:{populate:["images"]},products:{populate:["images"]},collections:{populate:{cover:{populate:"*"},images:{populate:"*"},products:{populate:["images"]}}}}}},{select:e=>D(e,i)}),P=c(()=>v.value??b),I=c(()=>P.value.banners??[]),he=c(()=>I.value.length?I.value:o),W=c(()=>P.value.products??[]),be=c(()=>P.value.collectionSections??[]),xe=c(()=>ge.value?!0:_e.value&&!v.value||!v.value?!1:W.value.length===0),K=c(()=>{if(P.value.featureBannerImage)return P.value.featureBannerImage;if(I.value.length){const l=I.value[I.value.length-1];return l?.img??l?.mobileImg??d}return o[o.length-1]?.img??d}),we=c(()=>{if(P.value.featureBannerMobileImage)return P.value.featureBannerMobileImage;if(I.value.length){const l=I.value[I.value.length-1];return l?.mobileImg??l?.img??d}const e=o[o.length-1];return e?.mobileImg??e?.img??d}),{data:ke,isLoading:ye,isError:Ce}=re(["recent-products"],{path:"/products",query:{sort:["publishedAt:desc"],populate:"*"}},{enabled:xe,select:e=>Ue(e,i)}),U=e=>{if(!e.images?.length)return de;const[l]=e.images;return l?.url??l?.path??de},Y=(e,l)=>e?l?`${e} ${l}`:e:"—",X=c(()=>ke.value?.items??[]),ee=c(()=>W.value.length?W.value.map(e=>({id:e.id,slug:e.slug,img:U(e),name:e.name,price:Y(e.price,e.currency?e.currency:void 0)})):ye.value||Ce.value||!X.value.length?h:X.value.map(e=>({id:e.id,slug:e.slug,img:U(e),name:e.name,price:Y(e.price,e.currency?e.currency:void 0)}))),G=pe(),Ie=[{title:"Индивидуальный пошив",description:"Создаём изделия, которые подчёркивают вашу индивидуальность",image:"https://cms.amora-brand.uz/uploads/Individualnyj_poshiv_0419872da8.png",action:()=>G.push("/atelie")},{title:"G.T. Factory",description:"Премиальное обучение по конструированию и моделированию одежды",image:"https://cms.amora-brand.uz/uploads/G_T_Factory_abfbfb686a.png",action:()=>G.push("/school")}],te=e=>{const l=e?.slug??e?.id;l&&G.push(`/catalog/${l}`)};S(null);const se=Ye(),Se=e=>{se.toggle(e)},Q=e=>se.isLiked(e);return S(!1),(e,l)=>{const x=J,w=Le,E=Ne,j=ze;return p(),g("div",ct,[t("section",dt,[t("div",ut,[y(Xe,{items:he.value},null,8,["items"])])]),t("section",mt,[t("div",pt,[y(x,null,{default:L(()=>[t("div",ft,[y(rt,{hideHeader:"",items:ee.value},null,8,["items"])])]),_:1}),t("div",vt,[(p(!0),g(z,null,A(ee.value.slice(0,6),(r,m)=>(p(),g("div",{key:r.id??m,class:"products-grid__item",onClick:V=>te(r)},[t("img",{src:r.img,alt:r.name,class:"products-grid__image",loading:"lazy"},null,8,gt)],8,_t))),128))])])]),K.value?(p(),g("section",ht,[t("div",bt,[t("div",xt,[t("picture",wt,[t("source",{media:"(max-width: 767px)",srcset:we.value},null,8,kt),t("img",{src:K.value,alt:"",class:"object-cover object-top w-full h-full max-sm:object-[70%]"},null,8,yt)])])])])):fe("",!0),(p(!0),g(z,null,A(be.value,r=>(p(),g("section",{key:r.id??r.title,class:"slide-section--banner"},[t("div",Ct,[t("div",It,[t("img",{src:r.banner,alt:r.title,class:"h-full w-full object-cover"},null,8,St)]),t("div",Bt,[t("div",Pt,[t("h3",$t,R(r.title),1),y(w,{to:"/collections",class:"text-xs uppercase tracking-[0.3em] text-white/70 underline-offset-4 hover:underline"},{default:L(()=>[...l[0]||(l[0]=[ne(" Смотреть все коллекции ",-1)])]),_:1})]),t("div",Lt,[(p(!0),g(z,null,A(r.products.slice(0,4),m=>(p(),g("article",{key:m.id,class:"collection-card",onClick:V=>te(m)},[t("div",zt,[t("img",{src:U(m),alt:m.name,loading:"lazy"},null,8,At),t("button",{type:"button",class:oe(["collection-card__favorite",{"collection-card__favorite--active":Q(m.id)}]),"aria-pressed":Q(m.id),"aria-label":"Добавить в избранное",onClick:qe(V=>Se(m.id),["stop"])},[y(E,{name:"app-icon:heart-outlined",mode:"svg",size:"22",class:oe(Q(m.id)?"heart--liked":"")},null,8,["class"])],10,Et)]),t("div",Ot,[t("p",Rt,R(m.name),1),t("span",Mt,R(Y(m.price,m.currency??void 0)),1)])],8,Nt))),128))])])])]))),128)),t("section",jt,[t("div",Vt,[t("div",Tt,[(p(),g(z,null,A(Ie,r=>t("article",{key:r.title,class:"relative isolate flex min-h-[100vh] max-md:min-h-[468px] items-end overflow-hidden bg-black/70"},[t("img",{src:r.image,alt:r.title,class:"absolute inset-0 h-full w-full object-cover"},null,8,qt),l[2]||(l[2]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"},null,-1)),t("div",Ft,[t("h2",Ht,R(r.title),1),t("p",Dt,R(r.description),1),y(j,{class:"!rounded-[0] mx-auto text-center mt-8 text-[#FFF]! !border !border-white !bg-transparent !px-7 !py-3 !text-xs !uppercase tracking-[0.3em] transition hover:!bg-white hover:!text-black",variant:"outlined",severity:"secondary",onClick:m=>r.action()},{default:L(()=>[...l[1]||(l[1]=[ne(" ПОДРОБНЕЕ ",-1)])]),_:1},8,["onClick"])])])),64))])])]),t("section",Wt,[t("div",Ut,[t("div",Yt,[t("div",Gt,[y(x,null,{default:L(()=>[y(De,{center:[69.323135,41.334772],zoom:17,marker:{coordinates:[69.323135,41.334772],hint:"Бутик AMORA",description:"ул. Амира Темура 107/1, ТЦ «Паркент» 2 этаж"},height:"800px",class:"contact-map__canvas"})]),_:1})])])])])])}}});export{_s as default};
