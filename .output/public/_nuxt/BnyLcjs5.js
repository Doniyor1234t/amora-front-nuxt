import{_ as ue}from"./BaENM5X9.js";import pe from"./B1LwRqsJ.js";import de from"./BTok5nMp.js";import{d as me,al as xe,k as ve,B as fe,y as n,r as h,aN as _e,c as l,G as t,Y as _,a7 as i,am as m,an as v,a8 as $,ac as M,a9 as V,a6 as c,ai as S,bC as I,o as a,aa as ge,_ as ye}from"./B3ilTi8i.js";/* empty css        */import{A as he}from"./BsCidAJW.js";import{u as be,a as ke,c as Fe}from"./DIgSlQBZ.js";import{u as we}from"./9eSx74Ub.js";import"./BgzXLRjJ.js";import"./BwWrbx_a.js";import"./Dsg48KLI.js";import"./B-zO8J_d.js";import"./ZhWAdK_X.js";import"./0nZ8oh12.js";import"./OZV0xPXt.js";import"./jc0MLXVe.js";import"./Ccv1nSdP.js";import"./C7xxiilW.js";import"./CLs7nh7g.js";import"./TiNjY4iW.js";import"./DO2-yWxG.js";import"./CO7S0_w-.js";import"./CayuLErX.js";import"./ud1Y7OHS.js";import"./BcLmSl4l.js";import"./CbR86eOH.js";function Ce(q){return new URL(globalThis.location.href)}const Pe={class:"pt-[72px]"},De={class:"flex min-h-[calc(100vh-72px)] max-md:flex-col max-lg:flex md:basis-[50%]"},$e={class:"flex overflow-y-auto no-scrollbar flex-col bg-[#fff] flex-1"},Se={class:"md:flex max-md:hidden overflow-y-auto no-scrollbar flex-col h-full"},Le=["src"],ze={class:"md:hidden w-full h-full px-4 py-6"},Ee={class:"product-mobile-gallery","slides-per-view":1,"space-between":12,pagination:{clickable:!0}},je={class:"product-mobile-gallery__image"},Re=["src"],Ue={class:"h-[calc(100vh-72px)] overflow-y-auto px-[72px] py-[80px] bg-white max-xl:px-12 max-lg:px-10 max-md:px-8 max-sm:px-4 max-sm:py-8 max-md:h-auto max-md:relative md:sticky md:top-[72px] md:basis-[50%]"},Ne={key:0,class:"text-center text-[#0F0F0F] py-10"},Be={key:1,class:"text-center text-[#C16371] py-10"},Me={key:2,class:"flex flex-col gap-8 w-full max-w-[620px] text-[#0F0F0F]"},Ve={class:"flex flex-col gap-3"},Ie={class:"text-xs tracking-[0.4em] text-[#C16371] uppercase flex items-center gap-3"},qe={class:"text-[72px] font-[masvol] leading-[1] max-lg:text-[56px] max-md:text-[46px] max-sm:text-[36px]"},Te={class:"font-semibold text-[20px] max-sm:text-[20px]"},Ae={class:"flex flex-col gap-4"},Oe={class:"flex items-center justify-between"},Ge={key:0,class:"text-xs uppercase tracking-[0.3em] text-[#C16371]"},Qe={key:0,class:"flex flex-wrap gap-3"},Ye=["onClick"],He={key:1,class:"text-[15px] uppercase tracking-[0.2em] text-[#CDC6BF]"},Je={class:"flex gap-5"},Ke=["aria-pressed"],We={class:"flex flex-col border-[#E8E2DC] divide-y divide-[#E8E2DC]"},Xe={class:"py-6"},Ze={key:0,class:"mt-4"},et={class:"flex flex-col gap-1"},tt={class:"py-6"},st={key:0,class:"mt-4"},ot={class:"flex font-300 flex-col gap-1 uppercase text-[#3D3D3D] text-[14px]"},lt={class:"py-6"},at={key:0,class:"mt-4"},rt={class:"text-[15px] leading-relaxed tracking-[0.05em] text-[#3D3D3D]"},nt={key:0,class:"complementary-products-section px-4 py-16 max-sm:py-10"},it={class:"complementary-products container mx-auto"},ct={class:"complementary-products__header flex items-center justify-between mb-10 max-sm:flex-col max-sm:items-start max-sm:gap-6"},ut={class:"complementary-products__controls flex gap-4"},pt=["onClick"],dt={class:"complementary-card__image"},mt=["src","alt"],xt=["aria-pressed","onClick"],vt={class:"complementary-card__info"},ft={class:"complementary-card__title"},_t={class:"complementary-card__price"},L="/images/Product-bg.jpg",gt=me({__name:"[id]",setup(q){const z=xe(),T=ve(),E=fe(),A=Ce(),O=E.public?.defaultLocale??E.public?.strapiLocale??"ru",j=n(()=>z.params.locale??O),f=n(()=>z.params.id),G=n(()=>{try{return new URL(`/catalog/${f.value}`,A.origin).toString()}catch{return`/catalog/${f.value}`}}),{normalizeMediaCollection:Q}=be(),g=we(),{data:Y,isLoading:H,isError:J}=ke(["product",f,j],()=>({path:"/products",query:{filters:{slug:{$eq:f.value},isActive:{$eq:!0}},populate:{images:{populate:"*"},collection:{populate:"*"},products:{populate:["images","collection"]}},locale:j.value,pagination:{page:1,pageSize:1}}}),{enabled:n(()=>!!f.value),select:s=>{if(!s?.data?.length)throw I({statusCode:404,statusMessage:"Product not found"});const e=Fe(s,Q);if(!e)throw I({statusCode:404,statusMessage:"Product not found"});return e}}),r=n(()=>Y.value),K=s=>{const[e]=s??[];return e?.url??e?.path??L},y=n(()=>r.value?.images?.map(s=>s?.url??s?.path??L)??[L]),W=n(()=>r.value?{product:{name:r.value.name,collectionName:r.value.collection?.name,fabric:r.value.fabric??null,color:r.value.color??null,size:null,url:G.value},photoUrls:y.value.slice(0,3)}:{photoUrls:y.value.slice(0,3)}),R=(s,e)=>{if(!s)return"—";const D=new Intl.NumberFormat("fr").format(Number(s));return e?`${D} ${e}`:s},X=n(()=>r.value?.collection?.name??"Коллекция"),Z=n(()=>r.value?.description??"Описание недоступно. Скоро здесь появится дополнительная информация."),ee=n(()=>[r.value?.fabric?`${r.value.fabric}`:"Состав уточняйте у менеджера"]),te=n(()=>["Только химчистка","Деликатная стирка","Не отбеливать"]),se=n(()=>{const s=r.value?.availableSizes;return s?.length?s.join(", "):"Размеры уточняйте у менеджера"}),b=n(()=>{const s=r.value?.availableSizes;return s?.length?s.map(e=>typeof e=="string"?e.trim():String(e??"")).filter(e=>!!e):[]}),oe=n(()=>b.value.length>0),x=h(null);_e(b,s=>{x.value=s[0]??null},{immediate:!0});const p=h({composition:!1,care:!1,description:!1}),k=s=>{p.value[s]=!p.value[s]},le=()=>{r.value&&g.toggle(r.value.id)},F=n(()=>r.value?g.isLiked(r.value.id):!1),w=h(!1),ae=()=>{w.value=!0},re=n(()=>r.value?.products??[]),U=n(()=>re.value.map(s=>({id:s.id,slug:s.slug,name:s.name,price:R(s.price,s.currency??void 0),image:K(s.images)}))),ne=n(()=>U.value.length>0),N=h(null),B=s=>{const e=N.value;e?.swiper&&(s==="prev"?e.swiper.slidePrev():e.swiper.slideNext())},ie=s=>{const e=s?.slug??s.id;e&&T.push(`/catalog/${e}`)},ce=s=>{g.toggle(s)},C=s=>g.isLiked(s);return(s,e)=>{const P=ue,D=de,d=pe;return a(),l(m,null,[t("div",Pe,[t("div",De,[t("div",$e,[t("div",Se,[(a(!0),l(m,null,v(y.value,(o,u)=>(a(),l("div",{key:`product-image-${u}`,class:"relative min-h-[calc(100vh-72px)] flex items-center justify-center"},[t("img",{src:o,alt:"Product image",class:"h-full w-full object-cover object-top max-xl:object-cover"},null,8,Le)]))),128))]),t("div",ze,[i(P,null,{default:$(()=>[t("swiper-container",Ee,[(a(!0),l(m,null,v(y.value,(o,u)=>(a(),l("swiper-slide",{key:u},[t("div",je,[t("img",{src:o,alt:"Product image"},null,8,Re)])]))),128))])]),_:1})])]),t("div",Ue,[M(H)?(a(),l("div",Ne," Загрузка информации о товаре... ")):M(J)||!r.value?(a(),l("div",Be," Не удалось загрузить информацию о товаре. Попробуйте позже. ")):(a(),l("div",Me,[t("div",Ve,[t("span",Ie,[V(c(X.value)+" ",1),e[6]||(e[6]=t("span",{class:"w-1 h-1 rounded-full bg-[#C16371]"},null,-1))]),t("h1",qe,c(r.value.name),1),t("p",Te,c(R(r.value.price,r.value.currency?r.value.currency:void 0)),1)]),t("div",Ae,[t("div",Oe,[e[7]||(e[7]=t("p",{class:"text-xs uppercase tracking-[0.6em] tracking-[0.6em] text-[#3D3D3D]"},"Размер",-1)),x.value?(a(),l("span",Ge,c(x.value?x.value.toUpperCase():""),1)):_("",!0)]),oe.value?(a(),l("div",Qe,[(a(!0),l(m,null,v(b.value,o=>(a(),l("button",{key:o,type:"button",class:S(["px-6 h-[44px] rounded-full border text-[13px] uppercase tracking-[0.25em] transition-all",[x.value===o?"!bg-[#0F0F0F] !text-white !border-[#0F0F0F]":"bg-transparent border-[#E3DED7] text-[#3D3D3D]"]]),onClick:u=>x.value=o},c(o.toUpperCase()),11,Ye))),128))])):(a(),l("p",He,c(se.value),1))]),t("div",Je,[i(D,{class:"!rounded-[999px] !text-white !px-[48px] !h-[54px] !bg-[#0F0F0F] !border-[#0F0F0F] uppercase tracking-[0.25em] w-full max-w-[280px]",variant:"outlined",severity:"primary",onClick:ae},{default:$(()=>[...e[8]||(e[8]=[V(" Купить ",-1)])]),_:1}),t("button",{type:"button",class:"h-12 w-12 rounded-full border border-[#E4E0DA] flex items-center justify-center hover:bg-[#F7F5F0] transition-colors","aria-pressed":F.value,onClick:le},[i(d,{name:"app-icon:heart-outlined",mode:"svg",class:S(F.value?"heart--liked":""),color:F.value?"#000":"#0F0F0F",size:"24"},null,8,["class","color"])],8,Ke)]),t("div",We,[t("div",Xe,[t("button",{type:"button",class:"w-full flex items-center justify-between",onClick:e[0]||(e[0]=o=>k("composition"))},[e[9]||(e[9]=t("p",{class:"text-[14px] leading-5 uppercase font-bold text-[#0F0F0F] tracking-[0.05em]"},"Состав",-1)),i(d,{name:p.value.composition?"ph:caret-up":"ph:caret-down",size:"20",color:"#0F0F0F"},null,8,["name"])]),p.value.composition?(a(),l("div",Ze,[t("ul",et,[(a(!0),l(m,null,v(ee.value,(o,u)=>(a(),l("li",{class:"font-300 uppercase text-[#3D3D3D] text-[14px]",key:`composition-${u}`},c(o),1))),128))])])):_("",!0)]),t("div",tt,[t("button",{type:"button",class:"w-full flex items-center justify-between",onClick:e[1]||(e[1]=o=>k("care"))},[e[10]||(e[10]=t("p",{class:"text-[14px] uppercase tracking-[0.05em] font-semibold text-[#0F0F0F]"},"Уход",-1)),i(d,{name:p.value.care?"ph:caret-up":"ph:caret-down",size:"20",color:"#0F0F0F"},null,8,["name"])]),p.value.care?(a(),l("div",st,[t("ul",ot,[(a(!0),l(m,null,v(te.value,(o,u)=>(a(),l("li",{key:`care-${u}`},c(o),1))),128))])])):_("",!0)]),t("div",lt,[t("button",{type:"button",class:"w-full flex items-center justify-between",onClick:e[2]||(e[2]=o=>k("description"))},[e[11]||(e[11]=t("p",{class:"text-[14px] uppercase tracking-[0.05em] font-semibold text-[#0F0F0F]"},"Описание",-1)),i(d,{name:p.value.description?"ph:caret-up":"ph:caret-down",size:"20",color:"#0F0F0F"},null,8,["name"])]),p.value.description?(a(),l("div",at,[t("p",rt,c(Z.value),1)])):_("",!0)])])]))])])]),ne.value?(a(),l("div",nt,[t("div",it,[t("div",ct,[e[12]||(e[12]=t("h2",{class:"text-[44px] font-[masvol] text-[#0F0F0F] max-sm:text-[32px]"}," Дополните образ ",-1)),t("div",ut,[t("button",{type:"button",class:"complementary-products__control",onClick:e[3]||(e[3]=o=>B("prev"))},[i(d,{name:"ph:arrow-left",size:"16"})]),t("button",{type:"button",class:"complementary-products__control",onClick:e[4]||(e[4]=o=>B("next"))},[i(d,{name:"ph:arrow-right",size:"16"})])])]),i(P,null,{default:$(()=>[t("swiper-container",{ref_key:"complementarySliderRef",ref:N,class:"complementary-products__slider","space-between":24,"slides-per-view":1.05,breakpoints:{640:{slidesPerView:1.4},768:{slidesPerView:2.1},1024:{slidesPerView:2.8},1280:{slidesPerView:3.2}}},[(a(!0),l(m,null,v(U.value,o=>(a(),l("swiper-slide",{key:o.id,class:"complementary-products__slide"},[t("div",{class:"complementary-card",onClick:u=>ie(o)},[t("div",dt,[t("img",{src:o.image,alt:o.name},null,8,mt),t("button",{type:"button",class:"complementary-card__favorite","aria-pressed":C(o.id),onClick:ge(u=>ce(o.id),["stop"])},[i(d,{name:"app-icon:heart-outlined",mode:"svg",color:C(o.id)?"#000":"#0F0F0F",class:S(C(o.id)?"heart--liked":""),size:"22"},null,8,["color","class"])],8,xt)]),t("div",vt,[t("p",ft,c(o.name),1),t("span",_t,c(o.price),1)])],8,pt)]))),128))],512)]),_:1})])])):_("",!0),i(he,{visible:w.value,"onUpdate:visible":e[5]||(e[5]=o=>w.value=o),"service-type":"collection",metadata:W.value},null,8,["visible","metadata"])],64)}}}),Gt=ye(gt,[["__scopeId","data-v-79202628"]]);export{Gt as default};
