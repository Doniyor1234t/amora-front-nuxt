import q from"./DERCMyBE.js";import{u as $,a as f}from"./0j2ILDts.js";import{m as z,a as E}from"./Bu7knjZd.js";import{d as I,an as L,y as a,c as o,H as t,af as r,a7 as R,a6 as c,a8 as A,aa as N,ab as V,o as l,a9 as H}from"./NJi9c2MB.js";import"./VZTMCzgR.js";import"./CgEaLnmc.js";import"./CXj1i_7e.js";import"./BTYArwDk.js";import"./ZhWAdK_X.js";import"./C6U--i4Y.js";import"./D7QJTT9D.js";import"./jc0MLXVe.js";const M={class:"pt-[72px]"},Q={key:0,class:"container py-20 text-center"},T={key:1},G={class:"relative"},J={class:"grid grid-cols-2 relative max-h-[900px]"},K={class:"relative"},O=["src"],U={class:"relative"},W=["src"],X={class:"bg-white rounded-[500px] h-[680px] w-[520px] z-[11] absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 p-5 max-sm:hidden"},Y={class:"flex flex-col items-center justify-center h-full px-8 text-center"},Z={key:0,class:"text-[#0F0F0F]"},tt={key:1,class:"text-[#C16371]"},et={key:2},st={class:"text-[#0F0F0F] text-[55px] text-center font-[masvol]"},ot={class:"text-center text-[#3D3D3D] text-[14px] mb-[24px]"},lt={class:"container flex items-center justify-between mb-[32px] mt-[48px]"},at={class:"text-[#0F0F0F] text-[52px] font-[masvol] max-sm:text-[34px]"},it={class:"flex items-center gap-2 h-[44px]"},ct={class:"text-[#0F0F0F] text-[52px] font-[masvol] max-sm:text-[34px]"},nt={class:"container mx-auto"},rt={key:0,class:"py-10 text-center text-[#0F0F0F]"},pt={key:1,class:"py-10 text-center text-[#C16371] text-lg"},dt={key:2,class:"py-10 text-center text-[#0F0F0F]"},ut={key:3,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-12"},xt={class:"bg-[#F5F5F5] rounded-3xl overflow-hidden"},mt=["src","alt"],gt={class:"px-[24px] py-[20px] text-[#3D3D3D]"},vt={class:"pb-[8px] text-xs tracking-[0.16em] uppercase"},_t={class:"text-xs text-[#9B9B9B]"},y="/images/products/dress-1.png",qt=I({__name:"[id]",setup(ht){const F=L(),n=a(()=>F.params.id),p=a(()=>!!n.value),{normalizeMediaCollection:m}=$(),{data:b,isLoading:k,isError:C}=f(["collection",n],()=>({path:"/collections",query:{filters:{slug:{$eq:n.value},isActive:{$eq:!0}},pagination:{page:1,pageSize:1},populate:["images"]}}),{enabled:p,select:s=>z(s,m)}),{data:g,isLoading:w,isError:P}=f(["collection-products",n],()=>({path:"/products",query:{filters:{isActive:{$eq:!0},collection:{slug:{$eq:n.value}}},pagination:{page:1,pageSize:40},populate:{images:{populate:"*"},variants:{populate:["size","image"]}},sort:["publishedAt:desc"]}}),{enabled:p,keepPreviousData:!0,select:s=>E(s,m)}),d=a(()=>b.value),u=a(()=>g.value?.items??[]),D=a(()=>g.value?.total??u.value.length),v=["/images/Collection-bg-3.jpg","/images/Collection-bg-6.jpg"],_=a(()=>{const s=d.value?.images??[];return[s[0]?.url,s[1]?.url].map((e,x)=>e??v[x]??v[0])}),h=a(()=>d.value?.name??"Коллекция"),j=a(()=>d.value?.description??"Коллекция Amora, вдохновленная женственностью и современной эстетикой."),B=s=>{if(!s.images?.length)return y;const[e]=s.images;return e?.url??e?.path??y},S=(s,e)=>s?e?`${s} ${e}`:s:"—";return(s,e)=>{const x=q;return l(),o("div",M,[p.value?(l(),o("div",T,[t("div",G,[t("div",J,[t("div",K,[t("img",{src:_.value[0],alt:"",class:"w-full max-h-[900px] object-cover"},null,8,O),e[1]||(e[1]=t("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-25"},null,-1))]),t("div",U,[t("img",{src:_.value[1],alt:"",class:"w-full max-h-[900px] object-cover"},null,8,W),e[2]||(e[2]=t("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-25"},null,-1))])]),t("div",X,[t("div",Y,[r(k)?(l(),o("div",Z," Загрузка коллекции... ")):r(C)?(l(),o("div",tt," Не удалось загрузить коллекцию. ")):(l(),o("div",et,[e[4]||(e[4]=t("div",{class:"flex items-center gap-2 mb-[12px] text-xs tracking-[0.3em] text-[#C16371] uppercase"}," новая коллекция ",-1)),t("h2",st,c(h.value),1),t("p",ot,c(j.value),1),R(x,{variant:"outlined",severity:"secondary",class:"!rounded-[80px] !text-[#0F0F0F] !px-[28px] !py-[14px]"},{default:A(()=>[...e[3]||(e[3]=[H(" ПОСМОТРЕТЬ ",-1)])]),_:1})]))])])]),t("div",lt,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-xs tracking-[0.3em] text-[#C16371] uppercase mb-2"}," коллекция ",-1)),t("h2",at,c(h.value),1)]),t("div",it,[t("span",ct," ("+c(D.value)+") ",1)])]),t("div",nt,[r(w)?(l(),o("div",rt," Загрузка изделий... ")):r(P)?(l(),o("div",pt," Не удалось загрузить изделия коллекции. ")):u.value.length===0?(l(),o("div",dt," В этой коллекции пока нет изделий. ")):(l(),o("div",ut,[(l(!0),o(N,null,V(u.value,i=>(l(),o("div",{key:i.id,class:"w-full flex flex-col justify-center"},[t("div",xt,[t("img",{src:B(i),alt:i.name,class:"w-full h-full object-cover"},null,8,mt)]),t("div",gt,[t("h2",vt,c(i.name),1),t("p",_t,c(S(i.price,i.currency?i.currency:void 0)),1)])]))),128))]))])])):(l(),o("div",Q,[...e[0]||(e[0]=[t("p",{class:"text-[#C16371] text-lg"}," Некорректный идентификатор коллекции. ",-1)])]))])}}});export{qt as default};
