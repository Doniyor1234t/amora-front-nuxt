import q from"./DLZB5liI.js";import{g as N,A as R,B as I,q as a,c as l,a as t,F as u,r as d,s as _,t as r,b as h,w as b,C as D,o as c,d as y}from"./C4Tg3A90.js";import{u as M,a as T,b as V}from"./DNF6Slob.js";import"./C6lmznsJ.js";import"./g98Jz5Mp.js";import"./Dh-cFr8e.js";import"./BkbnueWr.js";import"./ZhWAdK_X.js";import"./rLAsiTlt.js";import"./C6MyVl7h.js";import"./jc0MLXVe.js";const A={class:"pt-[72px]"},Q={class:"grid grid-cols-2 overflow-hidden max-sm:grid-cols-1 min-h-[calc(100vh-72px)]"},G={class:"flex overflow-y-auto no-scrollbar flex-col h-[calc(100vh-72px)]"},H={class:"relative min-h-[calc(100vh-72px)]"},J=["src"],K={class:"absolute bottom-6 left-6 bg-white/80 px-5 py-3 rounded-full text-xs tracking-[0.2em] uppercase text-[#3D3D3D]"},O={class:"h-[calc(100vh-72px)] overflow-y-auto pt-[100px] pl-[40px] pr-[40px] max-sm:px-4 max-sm:pt-[32px]"},U={key:0,class:"text-center text-[#0F0F0F] py-10"},W={key:1,class:"text-center text-[#C16371] py-10"},X={key:2,class:"flex flex-col gap-4 w-full max-w-[600px] text-[#0F0F0F]"},Y={class:"flex flex-col gap-2"},Z={class:"text-xs tracking-[0.2em] text-[#C16371] uppercase"},tt={class:"text-[64px] font-[masvol] leading-[1.1] max-sm:text-[38px]"},et={class:"font-bold text-[20px] max-sm:text-[18px]"},st={class:"flex flex-col gap-2"},ot={class:"text-[15px] uppercase tracking-[0.2em] text-[#EEE9E4]"},at={class:"flex flex-col gap-3"},lt={class:"text-[15px] leading-relaxed tracking-[0.05em] text-[#3D3D3D]"},ct={class:"flex flex-col gap-4 text-[15px] text-[#C9C5C0]"},rt={class:"flex flex-col gap-1 uppercase text-[#3D3D3D]"},it={class:"flex flex-col gap-4 text-[15px]"},nt={class:"flex flex-col gap-1 uppercase"},pt={class:"w-full grid grid-cols-2 gap-4 mt-[32px] max-sm:grid-cols-1 max-sm:mb-10"},k="/images/Product-bg.jpg",kt=N({__name:"[id]",setup(ut){const x=R(),m=I(),F=m.public?.defaultLocale??m.public?.strapiLocale??"ru",f=a(()=>x.params.locale??F),n=a(()=>x.params.id),{normalizeMediaCollection:w}=M(),{data:C,isLoading:E,isError:P}=T(["product",n,f],()=>({path:"/products",query:{filters:{slug:{$eq:n.value},isActive:{$eq:!0}},populate:["images","collection"],locale:f.value,pagination:{page:1,pageSize:1}}}),{enabled:a(()=>!!n.value),select:s=>{if(!s?.data?.length)throw D({statusCode:404,statusMessage:"Product not found"});const e=V(s,w);if(!e)throw D({statusCode:404,statusMessage:"Product not found"});return e}}),o=a(()=>C.value),L=a(()=>o.value?.images?.map(s=>s?.url??s?.path??k)??[k]),S=(s,e)=>s?e?`${s} ${e}`:s:"—",v=a(()=>o.value?.collection?.name??"Коллекция"),B=a(()=>o.value?.description??"Описание недоступно. Скоро здесь появится дополнительная информация."),$=a(()=>[o.value?.fabric?`${o.value.fabric}`:"Состав уточняйте у менеджера"]),z=a(()=>["Сухая чистка","Не отбеливать"]),j=a(()=>{const s=o.value?.availableSizes;return s?.length?s.join(", "):"Размеры уточняйте у менеджера"});return(s,e)=>{const g=q;return c(),l("div",A,[t("div",Q,[t("div",G,[(c(!0),l(u,null,d([...L.value],i=>(c(),l("div",H,[t("img",{src:i,alt:"Product image",class:"h-full w-full object-cover object-top"},null,8,J),e[0]||(e[0]=t("div",{class:"absolute top-0 left-0 w-full h-full"},null,-1)),t("div",K,r(v.value),1)]))),256))]),t("div",O,[_(E)?(c(),l("div",U," Загрузка информации о товаре... ")):_(P)||!o.value?(c(),l("div",W," Не удалось загрузить информацию о товаре. Попробуйте позже. ")):(c(),l("div",X,[t("div",Y,[t("span",Z,r(v.value),1),t("h1",tt,r(o.value.name),1),t("p",et,r(S(o.value.price,o.value.currency?o.value.currency:void 0)),1)]),t("div",st,[e[1]||(e[1]=t("p",{class:"text-xs uppercase tracking-[0.6em] text-[#3D3D3D]"},"Размер",-1)),t("p",ot,r(j.value),1)]),t("div",at,[e[2]||(e[2]=t("p",{class:"text-xs uppercase tracking-[0.6em] text-[#3D3D3D]"},"Описание",-1)),t("p",lt,r(B.value),1)]),t("div",ct,[e[3]||(e[3]=t("p",{class:"text-xs uppercase tracking-[0.6em] text-[#3D3D3D]"},"Состав",-1)),t("ul",rt,[(c(!0),l(u,null,d($.value,(i,p)=>(c(),l("li",{key:p},r(i),1))),128))])]),t("div",it,[e[4]||(e[4]=t("p",{class:"text-xs uppercase tracking-[0.6em] text-[#3D3D3D]"},"Уход",-1)),t("ul",nt,[(c(!0),l(u,null,d(z.value,(i,p)=>(c(),l("li",{key:`care-${p}`},r(i),1))),128))])]),t("div",pt,[h(g,{class:"!rounded-[80px] !text-white !px-[28px] !h-[48px] !bg-[#0F0F0F] uppercase",variant:"outlined",severity:"primary"},{default:b(()=>[...e[5]||(e[5]=[y(" Оставить заявку ",-1)])]),_:1}),h(g,{class:"!rounded-[80px] !text-[#0F0F0F] !px-[28px] !h-[48px] uppercase",variant:"outlined",severity:"secondary"},{default:b(()=>[...e[6]||(e[6]=[y(" Добавить в корзину ",-1)])]),_:1})])]))])])])}}});export{kt as default};
