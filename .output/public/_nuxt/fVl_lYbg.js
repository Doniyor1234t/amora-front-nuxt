import{_ as N}from"./Ccv1nSdP.js";import $ from"./B1LwRqsJ.js";import{d as j,y as c,c as n,G as s,ac as m,a7 as _,a8 as A,am as L,an as P,aL as R,o as a,a9 as z,aa as M,ai as T,a6 as g,_ as G}from"./B3ilTi8i.js";import{u as V,a as q,b as O}from"./DIgSlQBZ.js";import{u as Q}from"./9eSx74Ub.js";const X={class:"pt-[72px] min-h-screen"},K={class:"container py-12"},H={key:0,class:"py-20 text-center text-[#7D7D7D]"},J={key:1},U={class:"py-20 text-center text-[#0F0F0F] space-y-4"},W={key:2,class:"py-20 text-center text-[#C16371]"},Y={key:3,class:"py-20 text-center text-[#7D7D7D]"},Z={key:4},ee={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-12"},te=["onClick"],se={class:"relative overflow-hidden h-[360px] flex items-center justify-center"},oe=["aria-pressed","onClick"],ne=["src","alt"],ae={class:"px-[24px] py-[20px] text-[#3D3D3D] flex items-center justify-between gap-4"},ie={class:"pb-[8px] text-xs tracking-[0.16em] uppercase"},re={class:"text-xs text-[#9B9B9B]"},f="/images/products/Image.png",ce=j({__name:"favorites",setup(le){const d=Q(),i=c(()=>d.likedIds),v=c(()=>i.value.length>0),{normalizeMediaCollection:h}=V(),y=c(()=>["favorite-products",i.value.slice().join(",")]),{data:k,isLoading:F,isError:D}=q(y,()=>({path:"/products",query:{filters:{id:{$in:i.value},isActive:{$eq:!0}},populate:["images","collection"],pagination:{page:1,pageSize:i.value.length||1}}}),{enabled:c(()=>i.value.length>0),select:e=>O(e,h)}),x=c(()=>{const e=k.value?.items??[];if(!e.length)return[];const t=i.value.map(r=>String(r));return[...e].sort((r,u)=>{const o=t.indexOf(String(r.id)),l=t.indexOf(String(u.id)),B=o===-1?Number.MAX_SAFE_INTEGER:o,E=l===-1?Number.MAX_SAFE_INTEGER:l;return B-E})}),b=R(),S=e=>{const t=e.slug||String(e.id);b.push(`/catalog/${t}`)},C=e=>e.images?.length?e.images[0]?.url??e.images[0]?.path??f:f,w=e=>{d.toggle(e)},p=e=>d.isLiked(e),I=(e,t)=>e?t?`${e} ${t}`:e:"—";return(e,t)=>{const r=N,u=$;return a(),n("div",X,[s("div",K,[t[3]||(t[3]=s("div",{class:"flex flex-col gap-4 mb-10"},[s("p",{class:"text-xs tracking-[0.4em] uppercase text-[#C16371]"},"Избранное"),s("h1",{class:"text-[52px] font-[masvol] max-sm:text-[34px]"},"Любимые изделия"),s("p",{class:"text-[#7D7D7D] text-sm max-w-[520px]"}," Здесь собраны все изделия, которые вы отметили ❤. Продолжайте выбирать и возвращайтесь к ним позже. ")],-1)),m(F)?(a(),n("div",H," Загружаем избранные изделия... ")):v.value?m(D)?(a(),n("div",W," Не удалось загрузить избранные изделия. Попробуйте позже. ")):x.value.length===0?(a(),n("div",Y," Похоже, выбранные ранее изделия недоступны. Попробуйте выбрать другие модели в каталоге. ")):(a(),n("div",Z,[s("div",ee,[(a(!0),n(L,null,P(x.value,o=>(a(),n("div",{key:o.id,class:"w-full flex flex-col justify-between cursor-pointer transition-transform hover:-translate-y-1",onClick:l=>S(o)},[s("div",se,[s("button",{type:"button",class:"absolute right-5 top-5 flex h-10 w-10 items-center justify-center transition hover:scale-105","aria-pressed":p(o.id),onClick:M(l=>w(o.id),["stop"])},[_(u,{name:"app-icon:heart-outlined",mode:"svg",class:T(p(o.id)?"heart--liked":""),color:p(o.id)?"#C16371":"#0F0F0F",size:"20"},null,8,["class","color"])],8,oe),s("img",{src:C(o),alt:o.name,class:"w-full h-full object-contain"},null,8,ne)]),s("div",ae,[s("div",null,[s("h2",ie,g(o.name),1),s("p",re,g(I(o.price,o.currency?o.currency:void 0)),1)])])],8,te))),128))])])):(a(),n("div",J,[s("div",U,[t[1]||(t[1]=s("p",{class:"text-[20px] uppercase tracking-[0.2em]"},"Вы еще не отметили изделия",-1)),t[2]||(t[2]=s("p",{class:"text-sm text-[#7D7D7D]"},"Перейдите в каталог и добавьте понравившиеся вещи в избранное.",-1)),_(r,{to:"/catalog",class:"inline-flex items-center justify-center px-8 py-3 rounded-full border border-[#0F0F0F] text-xs tracking-[0.3em] uppercase hover:bg-[#0F0F0F] hover:text-white transition"},{default:A(()=>[...t[0]||(t[0]=[z(" В каталог ",-1)])]),_:1})])]))])])}}}),_e=G(ce,[["__scopeId","data-v-13c1ac04"]]);export{_e as default};
