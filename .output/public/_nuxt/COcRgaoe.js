import b from"./CO5863q7.js";import{_ as A}from"./DfxbRZFK.js";import S from"./CjvRNVbI.js";import{bB as w,r as c,x as U,d as V,an as k,j as B,bC as C,o as R,aL as I,f as N,F as j,G as u,a6 as t,ae as O,a7 as s,a8 as p}from"./BhIOAxBC.js";import{A as y}from"./BKlvyQNi.js";import z from"./Bkq5tOu8.js";const f="amora-auth",T=w("auth",()=>{const o=c(null),a=c(!1),x=()=>{o.value?localStorage.setItem(f,JSON.stringify(o.value)):localStorage.removeItem(f)},m=()=>{const l=localStorage.getItem(f);if(l)try{o.value=JSON.parse(l)}catch(_){console.warn("Failed to parse stored auth user",_),localStorage.removeItem(f)}a.value=!0},h=()=>{a.value||m()},g=l=>{o.value=l,x()},v=()=>{o.value=null,x()},F=U(()=>!!o.value);return{user:o,isAuthenticated:F,initialize:h,login:g,logout:v}}),E={class:"fixed top-0 left-0 w-full z-10 bg-white"},G={class:"container flex h-[72px] items-center max-sm:h-[60px]"},H={class:"max-sm:w-full max-sm:flex max-sm:justify-between"},L={class:"flex flex-col gap-2 w-full h-full justify-center gap-9 max-sm:gap-4 max-sm:justify-start"},Z={class:"flex gap-2"},$=V({__name:"AppHeader",setup(o){const a=c("UZ"),x=c([{label:"UZ",value:"UZ"},{label:"RU",value:"RU"}]),m=c(!1),h=k(),g=B(),v=T(),{isAuthenticated:F}=C(v);R(()=>{v.initialize()});const l=()=>{if(!F.value){g.push("/auth");return}};return I(()=>h.fullPath,()=>{m.value=!1}),(_,e)=>{const n=b,r=S,i=A;return j(),N("header",E,[u("div",G,[t(O(z),{visible:m.value,"onUpdate:visible":e[1]||(e[1]=d=>m.value=d),class:"!w-[45%] max-sm:!w-[100%]"},{default:s(()=>[u("div",H,[t(y,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=d=>a.value=d),options:x.value,class:"md:!hidden"},null,8,["modelValue","options"]),t(r,{variant:"text",severity:"secondary",class:"md:!hidden",onClick:l},{default:s(()=>[t(n,{name:"app-icon:user",mode:"svg",color:"#0F0F0F",height:"24px",class:"md:!hidden"})]),_:1}),t(r,{variant:"text",severity:"secondary",class:"md:!hidden"},{default:s(()=>[t(n,{name:"app-icon:heart-outlined",mode:"svg",color:"#0F0F0F",height:"24px",class:"md:!hidden"}),e[4]||(e[4]=u("p",{class:"text-sm text-[#0F0F0F] md:!hidden"},"0",-1))]),_:1})]),u("div",L,[t(i,{to:"/catalog",class:"font-[masvol] text-[52px] max-sm:text-[34px]"},{default:s(()=>[...e[5]||(e[5]=[p("Каталог",-1)])]),_:1}),t(i,{to:"/collections",class:"font-[masvol] text-[52px] max-sm:text-[34px]"},{default:s(()=>[...e[6]||(e[6]=[p("Коллекции",-1)])]),_:1}),t(i,{to:"/atelie",class:"font-[masvol] text-[52px] max-sm:text-[34px]"},{default:s(()=>[...e[7]||(e[7]=[p("Ателье AMORA",-1)])]),_:1}),t(i,{to:"/school",class:"font-[masvol] text-[52px] max-sm:text-[34px]"},{default:s(()=>[...e[8]||(e[8]=[p("Школа G.T. Factory",-1)])]),_:1}),t(i,{to:"/brand",class:"font-[masvol] text-[52px] max-sm:text-[34px]"},{default:s(()=>[...e[9]||(e[9]=[p("О бренде",-1)])]),_:1}),t(i,{to:"/contacts",class:"font-[masvol] text-[52px] max-sm:text-[34px]"},{default:s(()=>[...e[10]||(e[10]=[p("Контакты",-1)])]),_:1})])]),_:1},8,["visible"]),t(r,{variant:"text",severity:"secondary",class:"mr-[25px] shrink-0",onClick:e[2]||(e[2]=d=>m.value=!0)},{default:s(()=>[t(n,{name:"app-icon:menu-hamburger",mode:"svg",color:"#3F3F46",width:"40px",height:"32px"})]),_:1}),t(y,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=d=>a.value=d),options:x.value,class:"max-sm:!hidden"},null,8,["modelValue","options"]),t(i,{to:"/",class:"mx-auto max-sm:pr-6"},{default:s(()=>[t(n,{name:"app-icon:logo",mode:"svg",color:"#3F3F46",height:"56px",class:"max-sm:h-[40px]"})]),_:1}),u("div",Z,[t(r,{variant:"text",severity:"secondary"},{default:s(()=>[t(n,{name:"app-icon:loop",mode:"svg",color:"#0F0F0F",height:"24px"})]),_:1}),t(r,{variant:"text",severity:"secondary",class:"max-sm:!hidden",onClick:l},{default:s(()=>[t(n,{name:"app-icon:user",mode:"svg",color:"#0F0F0F",height:"24px",class:"max-sm:hidden"})]),_:1}),t(r,{variant:"text",severity:"secondary",class:"max-sm:!hidden"},{default:s(()=>[t(n,{name:"app-icon:heart-outlined",mode:"svg",color:"#0F0F0F",height:"24px",class:"max-sm:hidden"}),e[11]||(e[11]=u("p",{class:"text-sm text-[#0F0F0F] max-sm:hidden"},"0",-1))]),_:1})])])])}}}),D=Object.assign($,{__name:"LayoutAppHeader"});export{D as A};
