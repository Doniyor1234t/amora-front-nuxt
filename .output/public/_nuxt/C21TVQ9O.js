import{_ as W}from"./D-BnRHtv.js";import ce from"./B9L2EInS.js";/* empty css        */import{u as me,P as de}from"./CwlmWuay.js";import{S as ue}from"./pssOQNbT.js";import"./CzNfMZt7.js";import{r as C,X as pe,o as g,a8 as v,G as s,c as _,am as Z,an as q,d as ge,y as r,a7 as d,ab as T,bB as fe,ac as he,a9 as z}from"./w_eBWh7p.js";import{Y as ve}from"./C4NIozZN.js";import{A as _e}from"./Bo5-dyX6.js";import{u as xe,a as H,b as be,c as Le}from"./CB_3u32K.js";import"./BYwSbTxy.js";import"./DCj4Wr6w.js";import"./CNygOl9d.js";import"./YpdLvzgI.js";import"./ZhWAdK_X.js";import"./DQ2R8YDx.js";import"./DY47riVK.js";import"./jc0MLXVe.js";import"./BTgKclFE.js";import"./cPxMfWnN.js";import"./CkDv1wq5.js";import"./CLs7nh7g.js";import"./rgkDvN1P.js";import"./D_61NjsH.js";import"./BMMN9HMC.js";import"./D8ytIQ6C.js";import"./DGwgTYet.js";import"./DWk-jaQW.js";import"./CPOwqxrM.js";const we={class:"relative w-full h-full"},Be={class:"block w-full h-full"},ke=["srcset"],Ie=["src"],Ce={__name:"SharedBanner",props:{items:{type:Array,required:!0}},setup(y){const x=y,w=[ue],f=C(null);return me(f),(u,A)=>{const c=W;return g(),pe(c,null,{default:v(()=>[s("swiper-container",{scrollbar:{hide:!1},autoplay:{delay:8e3,disableOnInteraction:!1},modules:w,class:"banner h-full max-sm:max-h-[100vh]",ref_key:"containerRef",ref:f},[(g(!0),_(Z,null,q(x.items,(i,B)=>(g(),_("swiper-slide",{key:B},[s("div",we,[s("picture",Be,[s("source",{media:"(max-width: 767px)",srcset:i.mobileImg??i.img},null,8,ke),s("img",{src:i.img,alt:"",class:"object-cover object-top w-full h-full max-sm:object-cover"},null,8,Ie)])])]))),128))],512)]),_:1})}}},ye={class:"slides-scroll"},Ae={class:"slide-section--banner"},Se={class:"slide-section__fill"},Ee={class:"slide-section"},Me={class:"slide-section__inner"},Fe={class:"hidden md:block w-full"},je={class:"max-md:grid md:hidden"},Pe=["src","alt"],Oe={class:"slide-section max-md:mb-[-120px]"},Re={class:"slide-section__inner"},Ne={class:"relative w-full h-[100vh]"},$e={class:"block w-full h-full"},Te=["srcset"],ze=["src"],He={class:"slide-section"},Ve={class:"slide-section__inner"},We={class:"grid grid-cols-2 w-full max-lg:gap-6 max-md:grid-cols-1 max-md:mt-10"},Ze={class:"flex justify-center items-center max-md:order-2"},qe={class:"flex flex-col items-center max-w-[592px] text-center max-md:px-6"},Ge={class:"slide-section"},De={class:"slide-section__inner"},Ye={class:"grid grid-cols-2 w-full max-lg:gap-6 max-md:grid-cols-1"},Qe={class:"flex justify-center items-center max-md:order-2"},Ue={class:"flex flex-col items-center max-w-[592px] text-center max-md:px-6"},Xe={class:"slide-section"},Je={class:"slide-section__inner"},Ke={class:"contact-layout"},et={class:"contact-map max-md:order-1"},V="/images/products/Image.png",Et=ge({__name:"index",setup(y){const x={banners:[],featureBannerImage:null,featureBannerMobileImage:null,products:[]},w=e=>typeof e=="object"&&e!==null&&"data"in e,f=e=>{if(!e)return[];if(Array.isArray(e))return e;if(w(e)){const t=e.data;return t?Array.isArray(t)?t:[t]:[]}return[e]},u=e=>typeof e=="object"&&e!==null&&"attributes"in e,A=e=>u(e)?e:{id:e.id??0,attributes:e},c=[{img:"/images/Slider-bg-1.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-2.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-3.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-4.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"}],i=c[0]?.img??"/images/Slider-bg-1.png",B=Array.from({length:10},(e,t)=>({id:`fallback-${t}`,img:"/images/products/dress-1.png",name:"НАЗВАНИЕ ПЛАТЬЯ",price:"200$"})),{normalizeMediaCollection:b}=xe(),S=e=>u(e)?e.attributes??e:e,G=e=>S(e).isActive??!0,D=e=>u(e)?e.attributes??e:e,Y=e=>D(e).isActive??!0,E=e=>{if(!e)return null;const t=S(e),[a]=b(t.image),[l]=b(t.mobile_image);return{id:(u(e),e.id),img:a?.url??a?.path??i,mobileImg:l?.url??l?.path??a?.url??a?.path??i,title:t.title??null,subtitle:t.subtitle??null,description:t.description??null}},Q=(e,t)=>{const a=e.data,l=a?u(a)?a.attributes:a:null;if(!l)return{...x};const n=f(l.hero_banners??null).filter(o=>!!o).filter(G).map(o=>E(o)).filter(o=>!!o),L=E(l.single_banner??null),ne=[l.featured_products,l.products];let O=[];for(const o of ne){const $=f(o??null).filter(re=>!!re);if($.length){O=$;break}}const ie=O.filter(Y).map(o=>Le(A(o),t)),R=n.at(-1)??null,N=L?.img??R?.img??null,oe=L?.mobileImg??R?.mobileImg??N??null;return{banners:n,featureBannerImage:N,featureBannerMobileImage:oe,products:ie}},{data:k,isLoading:U,isError:X}=H(["homepage"],{path:"/homepage",query:{populate:{hero_banners:{populate:["image","mobile_image"]},single_banner:{populate:["image","mobile_image"]},featured_products:{populate:["images"]},products:{populate:["images"]}}}},{select:e=>Q(e,b)}),p=r(()=>k.value??x),m=r(()=>p.value.banners??[]),J=r(()=>m.value.length?m.value:c),I=r(()=>p.value.products??[]),K=r(()=>X.value?!0:U.value&&!k.value||!k.value?!1:I.value.length===0),ee=r(()=>{if(p.value.featureBannerImage)return p.value.featureBannerImage;if(m.value.length){const t=m.value[m.value.length-1];return t?.img??t?.mobileImg??i}return c[c.length-1]?.img??i}),te=r(()=>{if(p.value.featureBannerMobileImage)return p.value.featureBannerMobileImage;if(m.value.length){const t=m.value[m.value.length-1];return t?.mobileImg??t?.img??i}const e=c[c.length-1];return e?.mobileImg??e?.img??i}),{data:se,isLoading:ae,isError:le}=H(["recent-products"],{path:"/products",query:{sort:["publishedAt:desc"],populate:"*"}},{enabled:K,select:e=>be(e,b)}),M=e=>{if(!e.images?.length)return V;const[t]=e.images;return t?.url??t?.path??V},F=(e,t)=>e?t?`${e} ${t}`:e:"—",j=r(()=>se.value?.items??[]),P=r(()=>I.value.length?I.value.map(e=>({id:e.id,slug:e.slug,img:M(e),name:e.name,price:F(e.price,e.currency?e.currency:void 0)})):ae.value||le.value||!j.value.length?B:j.value.map(e=>({id:e.id,slug:e.slug,img:M(e),name:e.name,price:F(e.price,e.currency?e.currency:void 0)})));C(null);const h=C(!1);return(e,t)=>{const a=W,l=ce;return g(),_("div",ye,[s("section",Ae,[s("div",Se,[d(Ce,{items:J.value},null,8,["items"])])]),s("section",Ee,[s("div",Me,[d(a,null,{default:v(()=>[s("div",Fe,[d(de,{hideHeader:"",items:P.value},null,8,["items"])])]),_:1}),s("div",je,[(g(!0),_(Z,null,q(P.value.slice(0,6),(n,L)=>(g(),_("div",{key:n.id??L,class:"products-grid__item"},[s("img",{src:n.img,alt:n.name,class:"products-grid__image",loading:"lazy"},null,8,Pe)]))),128))])])]),s("section",Oe,[s("div",Re,[s("div",Ne,[s("picture",$e,[s("source",{media:"(max-width: 767px)",srcset:te.value},null,8,Te),s("img",{src:ee.value,alt:"",class:"object-cover object-top w-full h-full max-sm:object-[70%]"},null,8,ze)])])])]),s("section",He,[s("div",Ve,[s("div",We,[s("div",Ze,[s("div",qe,[t[4]||(t[4]=T('<h4 class="text-[#0F0F0F] text-[14px] flex items-center gap-2 mb-[12px]"><svg width="6" height="6" class="shrink-0" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.59814 0L3.17109 2.00762L5.19622 1.5L3.74404 3L5.19622 4.5L3.17109 3.99238L2.59814 6L2.0252 3.99238L6.84261e-05 4.5L1.45225 3L6.84261e-05 1.5L2.0252 2.00762L2.59814 0Z" fill="#C16371"></path></svg> ИНДИВИДУАЛЬНЫЙ ПОШИВ AMORA <svg width="6" height="6" class="shrink-0" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.59814 0L3.17109 2.00762L5.19622 1.5L3.74404 3L5.19622 4.5L3.17109 3.99238L2.59814 6L2.0252 3.99238L6.84261e-05 4.5L1.45225 3L6.84261e-05 1.5L2.0252 2.00762L2.59814 0Z" fill="#C16371"></path></svg></h4><h2 class="text-[#0F0F0F] text-[52px] text-center pb-[24px] tracking-[0.05em] font-[masvol] max-sm:text-[34px]"> Создаём изделия, которые подчёркивают вашу индивидуальность </h2>',2)),d(l,{class:"!rounded-[80px] !bg-black !text-white !px-[28px] h-[44px] mt-5 max-sm:mb-6",variant:"outlined",severity:"secondary",onClick:t[0]||(t[0]=n=>h.value=!0)},{default:v(()=>[...t[3]||(t[3]=[z(" ПОДРОБНЕЕ ",-1),s("svg",{width:"36",height:"20",viewBox:"0 0 36 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M0 10L36 10",stroke:"#fff"}),s("path",{d:"M26 0C26 4.82759 30.4068 10 36 10C30.4068 10 26 15.1724 26 20",stroke:"#fff"})],-1)])]),_:1}),d(_e,{visible:he(h),"onUpdate:visible":t[1]||(t[1]=n=>fe(h)?h.value=n:null),"service-type":"tailoring",title:"Записаться на пошив"},null,8,["visible"])])]),t[5]||(t[5]=s("div",{class:"relative h-full max-md:min-h-[420px] max-md:order-1"},[s("img",{src:"https://cms.amora-brand.uz/uploads/Individualnyj_poshiv_5ae71b9238.png",class:"w-full h-full max-h-[100vh] object-cover object-top",alt:""})],-1))])])]),s("section",Ge,[s("div",De,[s("div",Ye,[t[8]||(t[8]=s("div",{class:"relative h-full max-md:min-h-[420px] max-md:order-1"},[s("img",{src:"https://cms.amora-brand.uz/uploads/G_T_Factory_f86b905c07.png",class:"w-full h-full max-h-[100vh] object-cover object-top",alt:""}),s("div",{class:"absolute top-0 left-0 w-full h-full bg-black opacity-25"})],-1)),s("div",Qe,[s("div",Ue,[t[7]||(t[7]=T('<h4 class="text-[#0F0F0F] text-[14px] flex items-center gap-2 mb-[12px] max-sm:mt-6"><svg width="6" height="6" class="shrink-0" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.59814 0L3.17109 2.00762L5.19622 1.5L3.74404 3L5.19622 4.5L3.17109 3.99238L2.59814 6L2.0252 3.99238L6.84261e-05 4.5L1.45225 3L6.84261e-05 1.5L2.0252 2.00762L2.59814 0Z" fill="#C16371"></path></svg> G.T. Factory <svg width="6" height="6" class="shrink-0" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.59814 0L3.17109 2.00762L5.19622 1.5L3.74404 3L5.19622 4.5L3.17109 3.99238L2.59814 6L2.0252 3.99238L6.84261e-05 4.5L1.45225 3L6.84261e-05 1.5L2.0252 2.00762L2.59814 0Z" fill="#C16371"></path></svg></h4><h2 class="text-[#0F0F0F] text-[52px] text-center pb-[24px] font-[masvol] max-sm:text-[34px]"> Премиальное обучение по конструированию и моделированию одежды </h2>',2)),d(l,{class:"!rounded-[80px] !bg-black !text-white !px-[28px] h-[44px] mt-5 max-sm:mb-6",variant:"outlined",severity:"secondary",onClick:t[2]||(t[2]=n=>h.value=!0)},{default:v(()=>[...t[6]||(t[6]=[z(" ПОДРОБНЕЕ ",-1),s("svg",{width:"36",height:"20",viewBox:"0 0 36 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M0 10L36 10",stroke:"#fff"}),s("path",{d:"M26 0C26 4.82759 30.4068 10 36 10C30.4068 10 26 15.1724 26 20",stroke:"#fff"})],-1)])]),_:1})])])])])]),s("section",Xe,[s("div",Je,[s("div",Ke,[s("div",et,[d(a,null,{default:v(()=>[d(ve,{center:[41.334608,69.323384],zoom:17,marker:{coordinates:[41.334608,69.323384],hint:"Бутик AMORA",description:"ул. Исмаилата, 16А"},height:"800px",class:"contact-map__canvas"})]),_:1})])])])])])}}});export{Et as default};
