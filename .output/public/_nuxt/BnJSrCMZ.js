import{_ as J}from"./BGkuERgF.js";import{_ as Ae}from"./wnM4UPnS.js";import Oe from"./Cq9XIzeF.js";import ze from"./gh2gW8Ky.js";import{r as I,e as ue,c3 as Ee,c4 as Re,n as Me,y as r,g as q,p as je,aN as Ve,by as Te,Y as me,o as g,a8 as $,H as t,c as x,aa as E,ab as R,_ as qe,k as pe,Z as fe,a7 as C,af as F,ae as le,d as Fe,a6 as z,a9 as ie,ad as He,ac as ne}from"./BCRWh_qf.js";/* empty css        */import{S as De}from"./pssOQNbT.js";import{o as We}from"./CzNfMZt7.js";import{Y as Ue}from"./ByE9Rhcr.js";import{u as Ye,a as oe}from"./ClXqXSzW.js";import{m as Ge,d as re}from"./BnPaBQyU.js";import{u as Qe}from"./B5NfvVw7.js";import"./BBTYjsBP.js";import"./B3-a3oyO.js";import"./iZce23DQ.js";import"./SqqpNHU7.js";import"./ZhWAdK_X.js";import"./D4Cqt59f.js";import"./CORfkN8n.js";import"./jc0MLXVe.js";const Ze={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(i,h){let{slots:s}=h,u=!1;const{swiperRef:l}=i,v=I(null),n=I("swiper-slide"),c=I(!1);function w(N,k,B){k===v.value&&(n.value=B)}ue(()=>{!l||!l.value||(l.value.on("_slideClass",w),u=!0)}),Ee(()=>{u||!l||!l.value||(l.value.on("_slideClass",w),u=!0)}),Re(()=>{!v.value||!l||!l.value||(typeof i.swiperSlideIndex<"u"&&(v.value.swiperSlideIndex=i.swiperSlideIndex),l.value.destroyed&&n.value!=="swiper-slide"&&(n.value="swiper-slide"))}),Me(()=>{!l||!l.value||l.value.off("_slideClass",w)});const _=r(()=>({isActive:n.value.indexOf("swiper-slide-active")>=0,isVisible:n.value.indexOf("swiper-slide-visible")>=0,isPrev:n.value.indexOf("swiper-slide-prev")>=0,isNext:n.value.indexOf("swiper-slide-next")>=0}));je("swiperSlide",_);const o=()=>{c.value=!0};return()=>q(i.tag,{class:We(`${n.value}`),ref:v,"data-swiper-slide-index":typeof i.virtualIndex>"u"&&l&&l.value&&l.value.params.loop?i.swiperSlideIndex:i.virtualIndex,onLoadCapture:o},i.zoom?q("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof i.zoom=="number"?i.zoom:void 0},[s.default&&s.default(_.value),i.lazy&&!c.value&&q("div",{class:"swiper-lazy-preloader"})]):[s.default&&s.default(_.value),i.lazy&&!c.value&&q("div",{class:"swiper-lazy-preloader"})])}};function ve(i,h){const s=I(),u=r(()=>s.value?.isBeginning??!0),l=r(()=>s.value?.isEnd??!1),v=r(()=>s.value?.activeIndex??0),n=r(()=>s.value?.realIndex??0),c=r(()=>s.value?.slides??[]),w=r(()=>s.value?.slidesPerViewDynamic()??0),_=r(()=>s.value?.progress??0),o=r(()=>s.value?.slides.length??0),N=(...m)=>{s.value&&(m.length===0?s.value.slideNext():s.value.slideNext(...m))},k=(...m)=>{s.value&&s.value.slideTo(...m)},B=(...m)=>{s.value&&(m.length===0?s.value.slideReset():s.value.slideReset(...m))},M=(...m)=>{s.value&&(m.length===0?s.value.slidePrev():s.value.slidePrev(...m))},j=()=>{!(i.value?.nodeName==="SWIPER-CONTAINER")&&s.value!==null&&!h&&console.warn('"useSwiper()" requires a ref and is tied to the %c`<swiper-container ref="swiperContainerRef"></swiper-container>` element.',"font-weight: bold;")},H=()=>{i.value&&h!==void 0&&(Object.assign(i.value,h),i.value?.initialize()),s.value=i?.value?.swiper};return Ve(s,()=>j()),ue(()=>Te(()=>H())),{instance:s,isBeginning:u,isEnd:l,activeIndex:v,realIndex:n,slides:c,slidesPerView:w,progress:_,getNumberOfSlides:o,next:N,prev:M,to:k,reset:B}}const Je={class:"relative w-full h-full"},Ke={class:"block w-full h-full"},Xe=["srcset"],et=["src"],tt={__name:"SharedBanner",props:{items:{type:Array,required:!0}},setup(i){const h=i,s=[De],u=I(null);return ve(u),(l,v)=>{const n=J;return g(),me(n,null,{default:$(()=>[t("swiper-container",{scrollbar:{hide:!1},autoplay:{delay:8e3,disableOnInteraction:!1},modules:s,class:"banner h-full max-sm:max-h-[100vh]",ref_key:"containerRef",ref:u},[(g(!0),x(E,null,R(h.items,(c,w)=>(g(),x("swiper-slide",{key:w},[t("div",Je,[t("picture",Ke,[t("source",{media:"(max-width: 767px)",srcset:c.mobileImg??c.img},null,8,Xe),t("img",{src:c.img,alt:"",class:"object-cover object-top w-full h-full max-sm:object-cover"},null,8,et)])])]))),128))],512)]),_:1})}}},st={class:"products-slider px-4 py-[72px] max-sm:py-[36px]"},at={key:0,class:"products-slider__header container mb-[38px] max-sm:mb-[20px]"},lt={class:"products-slider__controls"},it=["slides-per-view","breakpoints"],nt=["onClick"],ot={class:"¢"},rt=["src","alt"],ct={__name:"SharedProductsSlider",props:{items:{type:Array,required:!0},hideHeader:{type:Boolean,default:!1},slidesPerView:{type:Number,default:5},mobileSlidesPerView:{type:Number,default:2}},setup(i,{expose:h}){const s=i,u=r(()=>({0:{slidesPerView:s.mobileSlidesPerView,spaceBetween:16},768:{slidesPerView:s.slidesPerView,spaceBetween:16}})),l=I(null),v=ve(l),n=pe(),c=_=>{const o=_?.slug??_?.id;o&&n.push(`/catalog/${o}`)};h({swiper:v});const w={delay:4500,disableOnInteraction:!1};return(_,o)=>{const N=J;return g(),x("div",st,[s.hideHeader?fe("",!0):(g(),x("div",at,[o[4]||(o[4]=t("h2",{class:"products-slider__title"},"Новые поступления",-1)),t("div",lt,[t("button",{type:"button",class:"products-slider__control","aria-label":"Предыдущий слайд",onClick:o[0]||(o[0]=k=>F(v).prev())},[...o[2]||(o[2]=[le('<svg width="36" height="20" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="max-sm:hidden" data-v-2aaded6f><path d="M36 10L4.76837e-07 10" stroke="currentColor" data-v-2aaded6f></path><path d="M10 0C10 4.82759 5.59322 10 -4.76836e-07 10C5.59322 10 10 15.1724 10 20" stroke="currentColor" data-v-2aaded6f></path></svg><svg width="26" height="10" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="md:hidden" data-v-2aaded6f><path d="M36 10L4.76837e-07 10" stroke="currentColor" data-v-2aaded6f></path><path d="M10 0C10 4.82759 5.59322 10 -4.76836e-07 10C5.59322 10 10 15.1724 10 20" stroke="currentColor" data-v-2aaded6f></path></svg>',2)])]),t("button",{type:"button",class:"products-slider__control","aria-label":"Следующий слайд",onClick:o[1]||(o[1]=k=>F(v).next())},[...o[3]||(o[3]=[le('<svg width="36" height="20" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="max-sm:hidden" data-v-2aaded6f><path d="M0 10L36 10" stroke="currentColor" data-v-2aaded6f></path><path d="M26 0C26 4.82759 30.4068 10 36 10C30.4068 10 26 15.1724 26 20" stroke="currentColor" data-v-2aaded6f></path></svg><svg width="26" height="10" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="md:hidden" data-v-2aaded6f><path d="M0 10L36 10" stroke="currentColor" data-v-2aaded6f></path><path d="M26 0C26 4.82759 30.4068 10 36 10C30.4068 10 26 15.1724 26 20" stroke="currentColor" data-v-2aaded6f></path></svg>',2)])])])])),C(N,null,{default:$(()=>[t("swiper-container",{ref_key:"containerRef",ref:l,loop:!0,"space-between":32,"slides-per-view":s.slidesPerView,class:"products-slider__swiper",breakpoints:F(u),autoplay:w},[(g(!0),x(E,null,R(s.items,(k,B)=>(g(),me(F(Ze),{key:B,class:"products-slider__slide"},{default:$(()=>[t("div",{class:"products-slider__item",onClick:M=>c(k)},[t("div",ot,[t("img",{src:k.img,alt:k.name},null,8,rt)])],8,nt)]),_:2},1024))),128))],8,it)]),_:1})])}}},ce=qe(ct,[["__scopeId","data-v-2aaded6f"]]),dt={class:"slides-scroll"},ut={class:"slide-section--banner"},mt={class:"slide-section__fill"},pt={class:"slide-section"},ft={class:"slide-section__inner"},vt={class:"hidden md:block w-full"},_t={class:"md:hidden w-full"},gt={key:0,class:"slide-section max-md:mb-[-120px]"},ht={class:"slide-section__inner"},bt={class:"relative w-full h-[100vh]"},xt={class:"block w-full h-full"},wt=["srcset"],kt=["src"],yt={class:"flex-col gap-10"},Ct={class:"relative w-full h-[100vh] overflow-hidden"},It=["src","alt"],St={class:"w-full relative z-1000 bg-[#FBFAF9] px-6 py-12 text-black lg:px-12"},Bt={class:"flex items-center justify-between max-md:flex-col max-md:items-start max-md:gap-4"},Pt={class:"text-3xl font-light"},Lt={class:"mt-8 grid gap-6 max-md:gap-2 max-md:grid-cols-2 xl:grid-cols-4"},$t=["onClick"],Nt={class:"collection-card__image"},At=["src","alt"],Ot=["aria-pressed","onClick"],zt={class:"collection-card__info"},Et={class:"collection-card__title"},Rt={class:"collection-card__price"},Mt={class:"slide-section"},jt={class:"slide-section__inner"},Vt={class:"grid grid-cols-1 lg:grid-cols-2 w-full"},Tt=["src","alt"],qt={class:"relative flex flex-col justify-center z-10 w-full px-10 py-12 max-md:px-7 text-white max-md:text-center"},Ft={class:"text-[58px] max-md:text-[28px] text-center leading-tight"},Ht={class:"mt-4 text-lg max-md:text-[12px] text-center text-white/80"},Dt={class:"slide-section"},Wt={class:"slide-section__inner max-md:p-0!"},Ut={class:"contact-layout"},Yt={class:"contact-map max-md:order-1"},de="/images/products/Image.png",vs=Fe({__name:"index",setup(i){const h={banners:[],featureBannerImage:null,featureBannerMobileImage:null,products:[],collectionSections:[]},s=e=>typeof e=="object"&&e!==null&&"data"in e,u=e=>{if(!e)return[];if(Array.isArray(e))return e;if(s(e)){const a=e.data;return a?Array.isArray(a)?a:[a]:[]}return[e]},l=e=>typeof e=="object"&&e!==null&&"attributes"in e,v=e=>l(e)?e:{id:e.id??0,attributes:e},n=[{img:"/images/Slider-bg-1.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-2.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-3.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-4.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"}],c=n[0]?.img??"/images/Slider-bg-1.png",w=Array.from({length:10},(e,a)=>({id:`fallback-${a}`,img:"/images/products/Image.png",name:"НАЗВАНИЕ ПЛАТЬЯ",price:"200$"})),{normalizeMediaCollection:_}=Ye(),o=e=>l(e)?e.attributes??e:e,N=e=>o(e).isActive??!0,k=e=>l(e)?e.attributes??e:e,B=e=>l(e)?e.attributes??e:e,M=e=>k(e).isActive??!0,j=e=>{if(!e)return null;const a=o(e),[b]=_(a.image),[y]=_(a.mobile_image);return{id:(l(e),e.id),img:b?.url??b?.path??c,mobileImg:y?.url??y?.path??b?.url??b?.path??c,title:a.title??null,subtitle:a.subtitle??null,description:a.description??null}},H=(e,a)=>{const b=e.data,y=b?l(b)?b.attributes:b:null;if(!y)return{...h};const A=u(y.hero_banners??null).filter(d=>!!d).filter(N).map(d=>j(d)).filter(d=>!!d),V=j(y.single_banner??null),p=[y.featured_products,y.products];let f=[];for(const d of p){const L=u(d??null).filter(O=>!!O);if(L.length){f=L;break}}const Q=f.filter(M).map(d=>re(v(d),a)),Le=u(y.collections??null).filter(d=>!!d).map(d=>{const L=B(d),[O]=a(L.cover??L.images)??[],T=u(L.products??null).filter(Z=>!!Z).map(Z=>re(v(Z),a));if(!T.length&&!O)return null;const Ne=O?.url??O?.path??T[0]?.images?.[0]?.url??T[0]?.images?.[0]?.path??c;return{id:(l(d),d.id),title:L.name,banner:Ne,products:T}}).filter(d=>!!d),se=A.at(-1)??null,ae=V?.img??se?.img??null,$e=V?.mobileImg??se?.mobileImg??ae??null;return{banners:A,featureBannerImage:ae,featureBannerMobileImage:$e,products:Q,collectionSections:Le}},{data:m,isLoading:_e,isError:ge}=oe(["homepage"],{path:"/homepage",query:{populate:{hero_banners:{populate:["image","mobile_image"]},single_banner:{populate:["image","mobile_image"]},featured_products:{populate:["images"]},products:{populate:["images"]},collections:{populate:{cover:{populate:"*"},images:{populate:"*"},products:{populate:["images"]}}}}}},{select:e=>H(e,_)}),P=r(()=>m.value??h),S=r(()=>P.value.banners??[]),he=r(()=>S.value.length?S.value:n),D=r(()=>P.value.products??[]),be=r(()=>P.value.collectionSections??[]),xe=r(()=>ge.value?!0:_e.value&&!m.value||!m.value?!1:D.value.length===0),K=r(()=>{if(P.value.featureBannerImage)return P.value.featureBannerImage;if(S.value.length){const a=S.value[S.value.length-1];return a?.img??a?.mobileImg??c}return n[n.length-1]?.img??c}),we=r(()=>{if(P.value.featureBannerMobileImage)return P.value.featureBannerMobileImage;if(S.value.length){const a=S.value[S.value.length-1];return a?.mobileImg??a?.img??c}const e=n[n.length-1];return e?.mobileImg??e?.img??c}),{data:ke,isLoading:ye,isError:Ce}=oe(["recent-products"],{path:"/products",query:{sort:["publishedAt:desc"],populate:"*"}},{enabled:xe,select:e=>Ge(e,_)}),W=e=>{if(!e.images?.length)return de;const[a]=e.images;return a?.url??a?.path??de},U=(e,a)=>e?a?`${e} ${a}`:e:"—",X=r(()=>ke.value?.items??[]),ee=r(()=>D.value.length?D.value.map(e=>({id:e.id,slug:e.slug,img:W(e),name:e.name,price:U(e.price,e.currency?e.currency:void 0)})):ye.value||Ce.value||!X.value.length?w:X.value.map(e=>({id:e.id,slug:e.slug,img:W(e),name:e.name,price:U(e.price,e.currency?e.currency:void 0)}))),Y=pe(),Ie=[{title:"Индивидуальный пошив",description:"Создаём изделия, которые подчёркивают вашу индивидуальность",image:"https://cms.amora-brand.uz/uploads/Individualnyj_poshiv_0419872da8.png",action:()=>Y.push("/atelie")},{title:"G.T. Factory",description:"Премиальное обучение по конструированию и моделированию одежды",image:"https://cms.amora-brand.uz/uploads/G_T_Factory_abfbfb686a.png",action:()=>Y.push("/school")}],Se=e=>{const a=e?.slug??e?.id;a&&Y.push(`/catalog/${a}`)};I(null);const Be=I(null),te=Qe(),Pe=e=>{te.toggle(e)},G=e=>te.isLiked(e);return I(!1),(e,a)=>{const b=J,y=Ae,A=Oe,V=ze;return g(),x("div",dt,[t("section",ut,[t("div",mt,[C(tt,{items:he.value},null,8,["items"])])]),t("section",pt,[t("div",ft,[C(b,null,{default:$(()=>[t("div",vt,[C(ce,{hideHeader:"",items:ee.value},null,8,["items"])]),t("div",_t,[C(ce,{hideHeader:"",items:ee.value,"slides-per-view":2,"mobile-slides-per-view":2,ref_key:"mobileProductsSliderRef",ref:Be},null,8,["items"])])]),_:1})])]),K.value?(g(),x("section",gt,[t("div",ht,[t("div",bt,[t("picture",xt,[t("source",{media:"(max-width: 767px)",srcset:we.value},null,8,wt),t("img",{src:K.value,alt:"",class:"object-cover object-top w-full h-full max-sm:object-[70%]"},null,8,kt)])])])])):fe("",!0),(g(!0),x(E,null,R(be.value,p=>(g(),x("section",{key:p.id??p.title,class:"slide-section--banner"},[t("div",yt,[t("div",Ct,[t("img",{src:p.banner,alt:p.title,class:"h-full w-full object-cover"},null,8,It)]),t("div",St,[t("div",Bt,[t("h3",Pt,z(p.title),1),C(y,{to:"/collections",class:"text-xs uppercase tracking-[0.3em] text-white/70 underline-offset-4 hover:underline"},{default:$(()=>[...a[0]||(a[0]=[ie(" Смотреть все коллекции ",-1)])]),_:1})]),t("div",Lt,[(g(!0),x(E,null,R(p.products.slice(0,4),f=>(g(),x("article",{key:f.id,class:"collection-card",onClick:Q=>Se(f)},[t("div",Nt,[t("img",{src:W(f),alt:f.name,loading:"lazy"},null,8,At),t("button",{type:"button",class:ne(["collection-card__favorite",{"collection-card__favorite--active":G(f.id)}]),"aria-pressed":G(f.id),"aria-label":"Добавить в избранное",onClick:He(Q=>Pe(f.id),["stop"])},[C(A,{name:"app-icon:heart-outlined",mode:"svg",size:"22",class:ne(G(f.id)?"heart--liked":"")},null,8,["class"])],10,Ot)]),t("div",zt,[t("p",Et,z(f.name),1),t("span",Rt,z(U(f.price,f.currency??void 0)),1)])],8,$t))),128))])])])]))),128)),t("section",Mt,[t("div",jt,[t("div",Vt,[(g(),x(E,null,R(Ie,p=>t("article",{key:p.title,class:"relative isolate flex min-h-[100vh] max-md:min-h-[468px] items-end overflow-hidden bg-black/70"},[t("img",{src:p.image,alt:p.title,class:"absolute inset-0 h-full w-full object-cover"},null,8,Tt),a[2]||(a[2]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"},null,-1)),t("div",qt,[t("h2",Ft,z(p.title),1),t("p",Ht,z(p.description),1),C(V,{class:"!rounded-[0] mx-auto text-center mt-8 text-[#FFF]! !border !border-white !bg-transparent !px-7 !py-3 !text-xs !uppercase tracking-[0.3em] transition hover:!bg-white hover:!text-black",variant:"outlined",severity:"secondary",onClick:f=>p.action()},{default:$(()=>[...a[1]||(a[1]=[ie(" ПОДРОБНЕЕ ",-1)])]),_:1},8,["onClick"])])])),64))])])]),t("section",Dt,[t("div",Wt,[t("div",Ut,[t("div",Yt,[C(b,null,{default:$(()=>[C(Ue,{center:[69.323135,41.334772],zoom:17,marker:{coordinates:[69.323135,41.334772],hint:"Бутик AMORA",description:"ул. Амира Темура 107/1, ТЦ «Паркент» 2 этаж"},height:"800px",class:"contact-map__canvas"})]),_:1})])])])])])}}});export{vs as default};
