import j from"./DA1SYmKu.js";import{k as $,x as E,y as N,n as a,c as i,a as t,t as l,s as m,F as R,j as T,b as f,w as g,z as v,o as r,d as _}from"./D3Io7_SF.js";import{u as q,a as I,b as M}from"./B9pw-Z45.js";import"./BNucbRu7.js";import"./DOp6rTCc.js";import"./D6Jdcfie.js";import"./Dm96l8Pt.js";import"./ZhWAdK_X.js";import"./CnzClO8s.js";import"./CfquCYO4.js";import"./jc0MLXVe.js";const V={class:"pt-[72px]"},A={class:"grid grid-cols-2 max-sm:grid-cols-1 min-h-[calc(100vh-72px)]"},Q={class:"relative"},G=["src"],H={class:"absolute bottom-6 left-6 bg-white/80 px-5 py-3 rounded-full text-xs tracking-[0.2em] uppercase text-[#3D3D3D]"},J={class:"pt-[100px] pl-[40px] pr-[40px] max-sm:px-4 max-sm:pt-[32px] overflow-y-auto"},K={key:0,class:"text-center text-[#0F0F0F] py-10"},O={key:1,class:"text-center text-[#C16371] py-10"},U={key:2,class:"flex flex-col gap-4 w-full max-w-[600px] text-[#0F0F0F]"},W={class:"flex flex-col gap-2"},X={class:"text-xs tracking-[0.2em] text-[#C16371] uppercase"},Y={class:"text-[64px] font-[masvol] leading-[1.1] max-sm:text-[38px]"},Z={class:"font-bold text-[20px] max-sm:text-[18px]"},tt={class:"flex flex-col gap-2 mt-2"},et={class:"text-sm leading-relaxed"},st={class:"flex flex-col gap-3 mt-4 text-sm"},ot={class:"flex flex-col gap-2 uppercase"},at={class:"grid grid-cols-2 gap-4 text-sm uppercase max-sm:grid-cols-1"},lt={class:"flex flex-col gap-2"},it={class:"flex flex-col gap-2"},rt={class:"w-full grid grid-cols-2 gap-4 mt-[32px] max-sm:grid-cols-1 max-sm:mb-10"},ct="/images/Product-bg.jpg",yt=$({__name:"[id]",setup(nt){const n=E(),p=N(),h=p.public?.defaultLocale??p.public?.strapiLocale??"ru",u=a(()=>n.params.locale??h),c=a(()=>n.params.id),{normalizeMediaCollection:b}=q(),{data:y,isLoading:D,isError:F}=I(["product",c,u],()=>({path:"/products",query:{filters:{slug:{$eq:c.value},isActive:{$eq:!0}},populate:["images","collection"],locale:u.value,pagination:{page:1,pageSize:1}}}),{enabled:a(()=>!!c.value),select:s=>{if(!s?.data?.length)throw v({statusCode:404,statusMessage:"Product not found"});const e=M(s,b);if(!e)throw v({statusCode:404,statusMessage:"Product not found"});return e}}),o=a(()=>y.value),k=a(()=>{const s=o.value?.images?.[0];return s?.url??s?.path??ct}),w=(s,e)=>s?e?`${s} ${e}`:s:"—",d=a(()=>o.value?.collection?.name??"Коллекция"),C=a(()=>o.value?.description??"Описание недоступно. Скоро здесь появится дополнительная информация."),P=a(()=>[o.value?.fabric?`${o.value.fabric}`:void 0,...["Сухая чистка","Не отбеливать"]].filter(Boolean)),L=a(()=>{const s=o.value?.availableSizes;return s?.length?s.join(", "):"Размеры уточняйте у менеджера"}),S=a(()=>o.value?.fit??"Параметры уточняйте у менеджера");return(s,e)=>{const x=j;return r(),i("div",V,[t("div",A,[t("div",Q,[t("img",{src:k.value,alt:"Product image",class:"w-full h-full object-cover object-top"},null,8,G),e[0]||(e[0]=t("div",{class:"absolute top-0 left-0 w-full h-full bg-black/40"},null,-1)),t("div",H,l(d.value),1)]),t("div",J,[m(D)?(r(),i("div",K," Загрузка информации о товаре... ")):m(F)||!o.value?(r(),i("div",O," Не удалось загрузить информацию о товаре. Попробуйте позже. ")):(r(),i("div",U,[t("div",W,[t("span",X,l(d.value),1),t("h1",Y,l(o.value.name),1),t("p",Z,l(w(o.value.price,o.value.currency?o.value.currency:void 0)),1)]),t("div",tt,[e[1]||(e[1]=t("p",{class:"text-xs tracking-[0.2em] text-[#3D3D3D]"},"Описание",-1)),t("p",et,l(C.value),1)]),t("div",st,[e[2]||(e[2]=t("p",{class:"text-xs tracking-[0.2em] text-[#3D3D3D] uppercase"}," Состав и уход ",-1)),t("ul",ot,[(r(!0),i(R,null,T(P.value,(z,B)=>(r(),i("li",{key:B},l(z),1))),128))])]),t("div",at,[t("div",lt,[e[3]||(e[3]=t("span",{class:"text-xs tracking-[0.2em] text-[#3D3D3D]"}," Размеры ",-1)),t("p",null,l(L.value),1)]),t("div",it,[e[4]||(e[4]=t("span",{class:"text-xs tracking-[0.2em] text-[#3D3D3D]"}," Посадка ",-1)),t("p",null,l(S.value),1)])]),t("div",rt,[f(x,{class:"!rounded-[80px] !text-white !px-[28px] !h-[48px] !bg-[#0F0F0F] uppercase",variant:"outlined",severity:"primary"},{default:g(()=>[...e[5]||(e[5]=[_(" Оставить заявку ",-1)])]),_:1}),f(x,{class:"!rounded-[80px] !text-[#0F0F0F] !px-[28px] !h-[48px] uppercase",variant:"outlined",severity:"secondary"},{default:g(()=>[...e[6]||(e[6]=[_(" Добавить в корзину ",-1)])]),_:1})])]))])])])}}});export{yt as default};
