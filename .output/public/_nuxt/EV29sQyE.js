import{_ as se}from"./-d-xlq6y.js";import{_ as Ie}from"./hICY1JkK.js";import we from"./D7Ro3oMz.js";import Be from"./CslNJCan.js";import{r as T,Y as Ce,o as i,a8 as I,H as t,c as u,aa as w,ab as B,d as ye,y as d,k as Se,Z as Le,a7 as g,a6 as k,a9 as K,ad as Ae,ac as U}from"./Di1UxAPe.js";/* empty css        */import{u as Pe,P as Ee}from"./D9Xy-L0b.js";import{S as $e}from"./pssOQNbT.js";import"./CzNfMZt7.js";import{Y as je}from"./DUz-81aK.js";import{u as Ne,a as X,b as Oe,c as ee}from"./CaiP0JEp.js";import{u as Re}from"./D8XxuDBi.js";import"./N5Nd8JXD.js";import"./COBB0RMz.js";import"./B7I8z7nu.js";import"./BamRyh2C.js";import"./ZhWAdK_X.js";import"./C0qD8whE.js";import"./DLPNOOYz.js";import"./jc0MLXVe.js";const Fe={class:"relative w-full h-full"},ze={class:"block w-full h-full"},Me=["srcset"],Te=["src"],He={__name:"SharedBanner",props:{items:{type:Array,required:!0}},setup(H){const C=H,P=[$e],f=T(null);return Pe(f),(m,E)=>{const p=se;return i(),Ce(p,null,{default:I(()=>[t("swiper-container",{scrollbar:{hide:!1},autoplay:{delay:8e3,disableOnInteraction:!1},modules:P,class:"banner h-full max-sm:max-h-[100vh]",ref_key:"containerRef",ref:f},[(i(!0),u(w,null,B(C.items,(r,$)=>(i(),u("swiper-slide",{key:$},[t("div",Fe,[t("picture",ze,[t("source",{media:"(max-width: 767px)",srcset:r.mobileImg??r.img},null,8,Me),t("img",{src:r.img,alt:"",class:"object-cover object-top w-full h-full max-sm:object-cover"},null,8,Te)])])]))),128))],512)]),_:1})}}},qe={class:"slides-scroll"},Ve={class:"slide-section--banner"},We={class:"slide-section__fill"},De={class:"slide-section"},Ye={class:"slide-section__inner"},Ge={class:"hidden md:block w-full"},Qe={class:"max-md:grid max-md:grid-cols-2 md:hidden"},Ze=["onClick"],Je=["src","alt"],Ke={key:0,class:"slide-section max-md:mb-[-120px]"},Ue={class:"slide-section__inner"},Xe={class:"relative w-full h-[100vh]"},et={class:"block w-full h-full"},tt=["srcset"],st=["src"],ot={class:"flex-col gap-10"},nt={class:"relative w-full h-[100vh] overflow-hidden"},at=["src","alt"],lt={class:"w-full relative z-1000 bg-[#FBFAF9] px-6 py-12 text-black lg:px-12"},it={class:"flex items-center justify-between max-md:flex-col max-md:items-start max-md:gap-4"},rt={class:"text-3xl font-light"},ct={class:"mt-8 grid gap-6 max-md:gap-2 max-md:grid-cols-2 xl:grid-cols-4"},ut=["onClick"],dt={class:"collection-card__image"},mt=["src","alt"],pt=["aria-pressed","onClick"],_t={class:"collection-card__info"},gt={class:"collection-card__title"},ft={class:"collection-card__price"},ht={class:"slide-section"},bt={class:"slide-section__inner"},vt={class:"grid grid-cols-1 lg:grid-cols-2 w-full"},xt=["src","alt"],kt={class:"relative flex flex-col justify-center z-10 w-full px-10 py-12 max-md:px-7 text-white max-md:text-center"},It={class:"text-[58px] max-md:text-[28px] text-center leading-tight"},wt={class:"mt-4 text-lg max-md:text-[12px] text-center text-white/80"},Bt={class:"slide-section"},Ct={class:"slide-section__inner max-md:p-0!"},yt={class:"contact-layout"},St={class:"contact-map max-md:order-1"},te="/images/products/Image.png",Zt=ye({__name:"index",setup(H){const C={banners:[],featureBannerImage:null,featureBannerMobileImage:null,products:[],collectionSections:[]},P=e=>typeof e=="object"&&e!==null&&"data"in e,f=e=>{if(!e)return[];if(Array.isArray(e))return e;if(P(e)){const s=e.data;return s?Array.isArray(s)?s:[s]:[]}return[e]},m=e=>typeof e=="object"&&e!==null&&"attributes"in e,E=e=>m(e)?e:{id:e.id??0,attributes:e},p=[{img:"/images/Slider-bg-1.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-2.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-3.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"},{img:"/images/Slider-bg-4.png",title:"NEW COLLECTION",subtitle:"Self made woman",description:"Нежная палитра в комбинации с нарочито объемными фасонами подчеркивают женственность их обладательницы"}],r=p[0]?.img??"/images/Slider-bg-1.png",$=Array.from({length:10},(e,s)=>({id:`fallback-${s}`,img:"/images/products/dress-1.png",name:"НАЗВАНИЕ ПЛАТЬЯ",price:"200$"})),{normalizeMediaCollection:y}=Ne(),q=e=>m(e)?e.attributes??e:e,oe=e=>q(e).isActive??!0,ne=e=>m(e)?e.attributes??e:e,ae=e=>m(e)?e.attributes??e:e,le=e=>ne(e).isActive??!0,V=e=>{if(!e)return null;const s=q(e),[l]=y(s.image),[c]=y(s.mobile_image);return{id:(m(e),e.id),img:l?.url??l?.path??r,mobileImg:c?.url??c?.path??l?.url??l?.path??r,title:s.title??null,subtitle:s.subtitle??null,description:s.description??null}},ie=(e,s)=>{const l=e.data,c=l?m(l)?l.attributes:l:null;if(!c)return{...C};const v=f(c.hero_banners??null).filter(n=>!!n).filter(oe).map(n=>V(n)).filter(n=>!!n),S=V(c.single_banner??null),o=[c.featured_products,c.products];let a=[];for(const n of o){const b=f(n??null).filter(x=>!!x);if(b.length){a=b;break}}const L=a.filter(le).map(n=>ee(E(n),s)),ve=f(c.collections??null).filter(n=>!!n).map(n=>{const b=ae(n),[x]=s(b.cover??b.images)??[],A=f(b.products??null).filter(M=>!!M).map(M=>ee(E(M),s));if(!A.length&&!x)return null;const ke=x?.url??x?.path??A[0]?.images?.[0]?.url??A[0]?.images?.[0]?.path??r;return{id:(m(n),n.id),title:b.name,banner:ke,products:A}}).filter(n=>!!n),Z=v.at(-1)??null,J=S?.img??Z?.img??null,xe=S?.mobileImg??Z?.mobileImg??J??null;return{banners:v,featureBannerImage:J,featureBannerMobileImage:xe,products:L,collectionSections:ve}},{data:j,isLoading:re,isError:ce}=X(["homepage"],{path:"/homepage",query:{populate:{hero_banners:{populate:["image","mobile_image"]},single_banner:{populate:["image","mobile_image"]},featured_products:{populate:["images"]},products:{populate:["images"]},collections:{populate:{cover:{populate:"*"},images:{populate:"*"},products:{populate:["images"]}}}}}},{select:e=>ie(e,y)}),h=d(()=>j.value??C),_=d(()=>h.value.banners??[]),ue=d(()=>_.value.length?_.value:p),N=d(()=>h.value.products??[]),de=d(()=>h.value.collectionSections??[]),me=d(()=>ce.value?!0:re.value&&!j.value||!j.value?!1:N.value.length===0),W=d(()=>{if(h.value.featureBannerImage)return h.value.featureBannerImage;if(_.value.length){const s=_.value[_.value.length-1];return s?.img??s?.mobileImg??r}return p[p.length-1]?.img??r}),pe=d(()=>{if(h.value.featureBannerMobileImage)return h.value.featureBannerMobileImage;if(_.value.length){const s=_.value[_.value.length-1];return s?.mobileImg??s?.img??r}const e=p[p.length-1];return e?.mobileImg??e?.img??r}),{data:_e,isLoading:ge,isError:fe}=X(["recent-products"],{path:"/products",query:{sort:["publishedAt:desc"],populate:"*"}},{enabled:me,select:e=>Oe(e,y)}),O=e=>{if(!e.images?.length)return te;const[s]=e.images;return s?.url??s?.path??te},R=(e,s)=>e?s?`${e} ${s}`:e:"—",D=d(()=>_e.value?.items??[]),Y=d(()=>N.value.length?N.value.map(e=>({id:e.id,slug:e.slug,img:O(e),name:e.name,price:R(e.price,e.currency?e.currency:void 0)})):ge.value||fe.value||!D.value.length?$:D.value.map(e=>({id:e.id,slug:e.slug,img:O(e),name:e.name,price:R(e.price,e.currency?e.currency:void 0)}))),F=Se(),he=[{title:"Индивидуальный пошив",description:"Создаём изделия, которые подчёркивают вашу индивидуальность",image:"https://cms.amora-brand.uz/uploads/Individualnyj_poshiv_0419872da8.png",action:()=>F.push("/atelie")},{title:"G.T. Factory",description:"Премиальное обучение по конструированию и моделированию одежды",image:"https://cms.amora-brand.uz/uploads/G_T_Factory_abfbfb686a.png",action:()=>F.push("/school")}],G=e=>{const s=e?.slug??e?.id;s&&F.push(`/catalog/${s}`)};T(null);const Q=Re(),be=e=>{Q.toggle(e)},z=e=>Q.isLiked(e);return T(!1),(e,s)=>{const l=se,c=Ie,v=we,S=Be;return i(),u("div",qe,[t("section",Ve,[t("div",We,[g(He,{items:ue.value},null,8,["items"])])]),t("section",De,[t("div",Ye,[g(l,null,{default:I(()=>[t("div",Ge,[g(Ee,{hideHeader:"",items:Y.value},null,8,["items"])])]),_:1}),t("div",Qe,[(i(!0),u(w,null,B(Y.value.slice(0,6),(o,a)=>(i(),u("div",{key:o.id??a,class:"products-grid__item",onClick:L=>G(o)},[t("img",{src:o.img,alt:o.name,class:"products-grid__image",loading:"lazy"},null,8,Je)],8,Ze))),128))])])]),W.value?(i(),u("section",Ke,[t("div",Ue,[t("div",Xe,[t("picture",et,[t("source",{media:"(max-width: 767px)",srcset:pe.value},null,8,tt),t("img",{src:W.value,alt:"",class:"object-cover object-top w-full h-full max-sm:object-[70%]"},null,8,st)])])])])):Le("",!0),(i(!0),u(w,null,B(de.value,o=>(i(),u("section",{key:o.id??o.title,class:"slide-section--banner"},[t("div",ot,[t("div",nt,[t("img",{src:o.banner,alt:o.title,class:"h-full w-full object-cover"},null,8,at)]),t("div",lt,[t("div",it,[t("h3",rt,k(o.title),1),g(c,{to:"/collections",class:"text-xs uppercase tracking-[0.3em] text-white/70 underline-offset-4 hover:underline"},{default:I(()=>[...s[0]||(s[0]=[K(" Смотреть все коллекции ",-1)])]),_:1})]),t("div",ct,[(i(!0),u(w,null,B(o.products.slice(0,4),a=>(i(),u("article",{key:a.id,class:"collection-card",onClick:L=>G(a)},[t("div",dt,[t("img",{src:O(a),alt:a.name,loading:"lazy"},null,8,mt),t("button",{type:"button",class:U(["collection-card__favorite",{"collection-card__favorite--active":z(a.id)}]),"aria-pressed":z(a.id),"aria-label":"Добавить в избранное",onClick:Ae(L=>be(a.id),["stop"])},[g(v,{name:"app-icon:heart-outlined",mode:"svg",size:"22",class:U(z(a.id)?"heart--liked":"")},null,8,["class"])],10,pt)]),t("div",_t,[t("p",gt,k(a.name),1),t("span",ft,k(R(a.price,a.currency??void 0)),1)])],8,ut))),128))])])])]))),128)),t("section",ht,[t("div",bt,[t("div",vt,[(i(),u(w,null,B(he,o=>t("article",{key:o.title,class:"relative isolate flex min-h-[100vh] max-md:min-h-[468px] items-end overflow-hidden bg-black/70"},[t("img",{src:o.image,alt:o.title,class:"absolute inset-0 h-full w-full object-cover"},null,8,xt),s[2]||(s[2]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"},null,-1)),t("div",kt,[t("h2",It,k(o.title),1),t("p",wt,k(o.description),1),g(S,{class:"!rounded-[0] mx-auto text-center mt-8 text-[#FFF]! !border !border-white !bg-transparent !px-7 !py-3 !text-xs !uppercase tracking-[0.3em] transition hover:!bg-white hover:!text-black",variant:"outlined",severity:"secondary",onClick:a=>o.action()},{default:I(()=>[...s[1]||(s[1]=[K(" ПОДРОБНЕЕ ",-1)])]),_:1},8,["onClick"])])])),64))])])]),t("section",Bt,[t("div",Ct,[t("div",yt,[t("div",St,[g(l,null,{default:I(()=>[g(je,{center:[69.323135,41.334772],zoom:17,marker:{coordinates:[69.323135,41.334772],hint:"Бутик AMORA",description:"ул. Амира Темура 107/1, ТЦ «Паркент» 2 этаж"},height:"800px",class:"contact-map__canvas"})]),_:1})])])])])])}}});export{Zt as default};
